{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"index.html","title":"How to Use This BRD","text":""},{"location":"index.html#purpose","title":"Purpose","text":"<p>This Business Requirements Document - Claimlane Returns, Refunds and Warranty Portal - defines how Silk &amp; Snow will replace an ad-hoc email-based returns and warranty process with a guided self-service portal. It describes the portal's objectives, scope, actors, high-level flows, functional and non-functional requirements, business rules, constraints, dependencies, risks, assumptions, epics, user stories and identified gaps.</p>"},{"location":"index.html#document-structure","title":"Document Structure","text":"<ul> <li>Overview &amp; Purpose - Business overview and objectives.</li> <li>Scope - In-scope and out-of-scope processes, products, regions and channels.</li> <li>Actors - Key actors and their roles in the returns and claims process.</li> <li>High-Level Process Flow - Narrative of the end-to-end high-level process.</li> <li>Functional Requirements - Detailed functional requirements (FR-x) by area.</li> <li>Non-Functional Requirements - Non-functional requirements (NFR-x).</li> <li>Business Rules - Business rules (BR-x, B-1) enforced by the portal.</li> <li>Epics &amp; User Stories - Epics, features, user stories and acceptance criteria.</li> <li>Changelog - History of major changes to the BRD.</li> <li>Phase 2 Backlog - Deferred Phase 2 features with complete implementation context.</li> <li>Appendices - Visual diagrams and supplementary data.</li> </ul>"},{"location":"index.html#audience-hints","title":"Audience Hints","text":"Role Key Files To Read Business stakeholders Overview &amp; Purpose, Scope, Process Flow, Business Rules CX / CS / Ops Process Flow, Functional Requirements, Business Rules, User Stories QA and testers Functional Requirements, Non-Functional, Business Rules, User Stories Technical teams Functional Requirements, Non-Functional"},{"location":"index.html#discussion","title":"Discussion","text":""},{"location":"actors.html","title":"Actors","text":""},{"location":"actors.html#customers-and-retail","title":"Customers and Retail","text":"Actor Description Customer End user initiating a return, refund, or warranty claim through the portal. Retail Store (Shopify POS) Physical stores whose transactions are recorded in Shopify; customers may initiate returns in the portal, with refunds handled per store rules. Retail Store (STORIS) Non-Shopify retail locations; customers must reach out to Sleep Country Customer Care team for returns."},{"location":"actors.html#systems","title":"Systems","text":"Actor Description Claimlane Portal Web-based interface guiding the customer through each step, applying eligibility rules, documentation requirements, and triggering backend actions. WooCommerce System Backend e-commerce system for orders, item details, inventory adjustments, refunds, and replacement order creation. Shipping Carrier API External shipping providers (e.g., FedEx, Freight services) used to generate return labels or arrange pickups achieved via EasyPost API."},{"location":"actors.html#customer-service-and-operations","title":"Customer Service and Operations","text":"Actor Description Customer Experience (CX) Agents Review claims, validate documentation, perform manual refunds, manage exceptions, and override rules where permitted. Internal Ops Processes US warehouse email notifications and manually updates return statuses in the portal for US returns (LA/NJ warehouses). Runs \"Returned items\" reports for US inventory reconciliation. Caledonia Warehouse Team Canadian warehouse team receiving physical returns and updating item condition/status using a limited-access role in the portal. US Warehouse Team (LA / NJ) US warehouse teams (Los Angeles and New Jersey) that receive physical returns and email status updates to Internal Ops. These teams do not have direct portal access; all status updates are processed offline via email. Store Operations (Store Ops) Team that runs \u201cReturned items\u201d reports from the portal to update inventory and reconcile returned goods. Return Logistics Team Internal team selecting donation/pickup vendors for unboxed mattresses or oversized items, managing vendor changes, triggering updated notifications, and offering self-donation options when no vendor is available."},{"location":"actors.html#external-partners","title":"External Partners","text":"Actor Description Vendors (Donation / Pickup Partners) External partners (6\u201310 vendors) that collect unboxed mattresses, oversized items, or donations. Vendors have portal access to mark items as \"Picked\" and update pickup status directly within ClaimLane. Third Party (EQ3/TSC/Costco) Partners Third-party partners that sell Silk &amp; Snow products through their own channels. Partners will have ability to share the link (to Claimlane) for clients to submit pickup requests."},{"location":"actors.html#governance-and-quality","title":"Governance and Quality","text":"Actor Description UX Team Provides business-approved customer-facing UI. Quality Assurance (QA) Testers Business Ops and CX Team"},{"location":"actors.html#discussion","title":"Discussion","text":""},{"location":"appendices.html","title":"Appendices","text":""},{"location":"appendices.html#appendix-a-claim-reasons-documentation-requirements","title":"APPENDIX A \u2014 Claim Reasons &amp; Documentation Requirements","text":"<p>This appendix defines exact documentation requirements for every claim reason, per product category, based directly on the tables you provided.</p> <p>This is essential for QA (validation of required fields) and Business (alignment with warranty policy).</p>"},{"location":"appendices.html#a1-mattress-category","title":"A.1 Mattress Category","text":"<p>Mattress \u2013 Claim Reasons &amp; Required Documentation</p> Claim Reason Required Documentation Shipping / Damage Upon Receipt 1. Photo of base2. Photo of full mattress measurement (no sheets)3. Photos of both sides of visible tags Structural Damage (broken coils, cracked foam, etc.) Same as above (base + full measurement + tags) Loose Stitching, Seam Issues, Cosmetic Issues Photos of issuePhotos of tags Top or Side Panel Fit / Alignment Concerns Photos of issuePhotos of tags Size Discrepancy 1. Photo of base2. Measurement of length + width (entire measuring tool visible)3. Photos of tags Permanent Excessive Sagging / Indentations 1. Photo of base2. Photo of indentation measurement with ruler3. Photos of tags <p>General Required for All Mattress Claims</p> <ul> <li>\u2714 Lot number</li> <li>\u2714 Detailed description</li> <li>\u2714 If from retail/third-party \u2192 invoice copy</li> </ul>"},{"location":"appendices.html#a2-furniture-category","title":"A.2 Furniture Category","text":"<p>Furniture Types:</p> <ul> <li>Adjustable Beds</li> <li>Wooden Furniture</li> <li>Upholstered Frames</li> <li>Sofa</li> </ul> <p>Furniture \u2013 Claim Reasons &amp; Required Documentation</p> Claim Reason Required Documentation Missing Parts 1. Mark-up of assembly guide (parts missing)2. Photos of issue from multiple angles3. Tag photos (if applicable) Broken Component / Shipping Damage Photos from several anglesTag photos Structural Issues (warped frame, cracked joints, etc.) Photos from several anglesTag photos Material Quality Issues Photos of issueTag photos Cosmetic Issues Photos of issueTag photos Functional Issues (drawer, mechanism failures) Photos/video (if platform allows)Tag photos Upholstery Issues (stitching, pilling, premature wear) Photos of issueTag photos <p>General Required for All Furniture Claims</p> <ul> <li>\u2714 Lot number</li> <li>\u2714 Detailed description</li> <li>\u2714 Retail/third-party invoice (if applicable)</li> </ul>"},{"location":"appendices.html#a3-bedding-category","title":"A.3 Bedding Category","text":"<p>Includes:</p> <ul> <li>Sheets (Percale, Linen, Egyptian Cotton, Muslin, Silk)</li> <li>Duvets</li> <li>Pillowcases</li> <li>Pillows</li> <li>Protectors</li> <li>Throws</li> <li>Weighted blankets</li> </ul> <p>Bedding \u2013 Claim Reasons &amp; Required Documentation</p> Claim Reason Required Documentation Fabric Concerns (snags, tears, holes) Clear photos of issueTag photos Seam Concerns Photos of issueTag photos Material Concerns (pilling, fading, discoloration) PhotosTag photos Sizing Concerns Photo of issueTag photosLength + width measurements <p>General Required for All Bedding Claims</p> <ul> <li>\u2714 Lot number</li> <li>\u2714 Description</li> <li>\u2714 Invoice (retail/third-party only)</li> </ul>"},{"location":"appendices.html#a4-bath-category","title":"A.4 Bath Category","text":"<p>Includes:</p> <ul> <li>Terry towels</li> <li>Turkish towels</li> <li>Bath mats</li> <li>Bath robes</li> </ul> <p>Bath \u2013 Claim Reasons &amp; Required Documentation</p> Claim Reason Required Documentation Fabric Concerns Clear photosTag photos Material Concerns PhotosTag photos Seam Concerns PhotosTag photos Sizing Concerns MeasurementsTag photos <p>General Required</p> <ul> <li>\u2714 Lot number</li> <li>\u2714 Description</li> <li>\u2714 Invoice if not S&amp;S order</li> </ul>"},{"location":"appendices.html#a5-global-documentation-rules-for-all-claims","title":"A.5 Global Documentation Rules for All Claims","text":"Requirement Applies To Lot number All claims Description of issue All claims Invoice Retail store / third-party Photos Category-specific, mandatory Measurements Required when defect relates to size Tags Required in almost every category <p>See BR-5 in <code>business-rules.md</code>: A claim cannot be submitted unless 100% of required documentation is provided and validated at submission (except when CS overrides manually).</p>"},{"location":"appendices.html#appendix-b-return-reasons-mapping-customer-reason-woocommerce-reason","title":"APPENDIX B \u2014 Return Reasons Mapping (Customer Reason \u2192 WooCommerce Reason)","text":"<p>This appendix defines all return reasons that the customer may select and how they map to WooCommerce refund reasons, per category.</p> <p>This is essential for Testers verifying: *   Correct reason list appears *   Correct mapping sent to Woo during refund *   Correct reporting categories</p>"},{"location":"appendices.html#b1-bath-category","title":"B.1 Bath Category","text":"<p>Bath Mat \u2014 Customer Return Reasons \u2192 Woo Reasons</p> Customer-facing Reason Woo Refund Reason Cancelled Cancelled Backorder Cancellation Backorder Cancellation Price-Match Price-Match Too Thin Too Thin Not Absorbent Not Absorbent Colour Colour Sizing Sizing Quality (Cosmetics) Quality Not as Expected/Advertised Not as Expected Other / Change of Mind Change of Mind Defective Defective Chargeback Chargeback Cancellation \u2013 Fraud Fraud <p>(This format is applied to all bath subcategories \u2014 Terry, Turkish, Robes \u2014 with identical mapping.)</p>"},{"location":"appendices.html#b2-bedding-category","title":"B.2 Bedding Category","text":"<p>Example: Accessories</p> Reason Woo Mapping Too Thin Too Thin Too Hot Too Hot Price-Match Price-Match Softness Issue Softness Issue Quality (Cosmetics) Quality Sizing Sizing Colour Colour Defective Defective Too Heavy Too Heavy Other / Change of Mind Change of Mind Not as Expected Not as Expected Coupon Coupon Cancelled Cancelled Backorder Backorder Cancellation Chargeback Chargeback Cancellation \u2013 Fraud Fraud <p>Additional Bedding Subcategories</p> <ul> <li>Egyptian Cotton Bedding</li> <li>Linen Bedding</li> <li>Muslin Bedding</li> <li>Percale Bedding</li> <li>Toppers</li> <li>Weighted Blankets</li> <li>Waffle Bedding</li> <li>Throws</li> </ul> <p>Rule B-1: Each subcategory inherits the list and mapping exactly as provided in the source table.</p>"},{"location":"appendices.html#b3-furniture-category","title":"B.3 Furniture Category","text":"<p>Example mappings (Upholstered Bed Frames):</p> Reason Woo Mapping Price-Match Price-Match Colour Colour Shipping Damage Shipping Damage Quality (Cosmetics) Quality Defective Defective Not as Expected Not as Expected Other / Change of Mind Change of Mind Cancelled Cancelled Backorder Cancellation Backorder Chargeback Chargeback Cancellation \u2013 Fraud Fraud <p>(Identical structure for Wooden Furniture, Sofa, Adjustable Beds.)</p>"},{"location":"appendices.html#b4-mattress-category","title":"B.4 Mattress Category","text":"<p>Mattress \u2013 CA &amp; US</p> Reason Woo Mapping Too Firm Too Firm Too Soft Too Soft Too Warm Too Warm Not Supportive Not Supportive Quality (Cosmetics) Quality Defective Defective Pain Pain Shipping Damage Shipping Damage Not as Expected Not as Expected Cancelled Cancelled Backorder Cancellation Backorder Other / Change of Mind Change of Mind Chargeback Chargeback Cancellation \u2013 Fraud Fraud"},{"location":"appendices.html#appendix-c-warranty-return-policy-table","title":"APPENDIX C \u2014 Warranty &amp; Return Policy Table","text":"<p>This is the definitive single source for testers and business users validating eligibility.</p>"},{"location":"appendices.html#c1-return-periods-calculated-from-delivery-date","title":"C.1 Return Periods (Calculated from Delivery Date)","text":"Product Category Return Period Conditions Mattresses 365 nights Full refund; boxed preferred; unboxed requires approval Furniture 30 days Client pays return shipping (calculated via Woo service) Toppers 100 nights Soft goods rules Bedding 100 nights Must confirm donatable condition Bath 100 nights N/A Accessories 100 nights N/A Custom Hybrid Mattress Not returnable Warranty only"},{"location":"appendices.html#c2-warranty-periods-calculated-from-delivery-date","title":"C.2 Warranty Periods (Calculated from Delivery Date)","text":"Product Category Warranty Mattresses 15 years Adjustable Bed 10 years Furniture 5 years Sofa 5 years Pillows 3 years Mattress Toppers 3 years Bedding 1 year Bath 1 year Accessories 1 year"},{"location":"appendices.html#appendix-d-full-return-eligibility-matrix","title":"APPENDIX D \u2014 Full Return Eligibility Matrix","text":"<p>This matrix defines the exact logic used to determine whether an item is Eligible, Not Eligible, or Conditionally Eligible.</p> <p>This table is essential for QA test case coverage.</p>"},{"location":"appendices.html#d1-eligibility-by-product-category-time","title":"D.1 Eligibility by Product Category &amp; Time","text":"Category &lt; Return Window &gt; Return Window Final Sale Already Returned Trial-Specific Rules Mattress Eligible; &lt;30 nights soft warning Not Eligible (&gt;365) Blocked Blocked &lt;30 nights = warning; &gt;365 = blocked Furniture Eligible Not Eligible (&gt;30 days) Blocked Blocked Must show shipping cost deduction notes Bedding Eligible Not Eligible (&gt;100 nights) Blocked Blocked Must confirm donatable condition Bath Eligible Not Eligible (&gt;100 nights) Blocked Blocked Standard Accessories Eligible Not Eligible (&gt;100 nights) Blocked Blocked Standard Toppers Eligible Not Eligible (&gt;100 nights) Blocked Blocked Early-return soft warning (if configured) Custom Hybrid Mattress Not Eligible \u2013 Always Not Eligible \u2013 Always Final Sale N/A N/A"},{"location":"appendices.html#d2-eligibility-by-channel","title":"D.2 Eligibility by Channel","text":"Channel Web Order Retail Store POS Purchase Third-Party Vendor Web Purchase Full portal flow Not allowed Not allowed Not applicable Retail Shopify Order Allowed (if ID matches) Allowed in store Allowed Not applicable POS Purchase Guidance only Must return in-store Allowed Not applicable Amazon/3rd Party Not allowed Not allowed Not allowed Redirect to vendor"},{"location":"appendices.html#d3-eligibility-by-condition","title":"D.3 Eligibility by Condition","text":"Condition Scenario Eligibility State Business Rule Item missing packaging (furniture) Conditionally Eligible Warning to customer; admin flag \u201cMissing Packaging\u201d Mattress unboxed Requires approval Photos required; support review Gift-with-purchase Must return gift OR deduct value BR: If main item returned \u2192 free gift must be returned Bundles Bundle refund follows bundle rules BR: Returning single item \u2192 prorated refund"},{"location":"appendices.html#d4-bundles-eligibility-rules","title":"D.4 Bundles Eligibility Rules","text":"Scenario Eligibility Notes Full bundle return Eligible Refund full bundle price Returning single pillow (from bundle) Eligible Prorated refund Returning duvet only Eligible Prorated refund Free sleep bundle gift Must return gift Or deduct gift value"},{"location":"appendices.html#discussion","title":"Discussion","text":""},{"location":"business-rules.html","title":"Business Rules","text":"<p>The portal must enforce the following rules (numbered BR-1 through BR-12 plus appendix rules).</p> <ul> <li> <p>BR-1 \u2013 Third-Party Orders: Third-party vendor orders (TSC, EQ3, Costco) enter ClaimLane via a vendor-specific generic link shared by the vendor with the customer. The link is not unique to the customer; to mitigate security concerns, the link MUST open a Terms &amp; Conditions page before any action is taken. The T&amp;C clearly states: (1) no refund will be issued by Silk &amp; Snow \u2014 the refund is the responsibility of the third-party vendor, and (2) the return is not authorized by the third-party partner. After the customer accepts T&amp;C and provides pickup details, ClaimLane creates a ticket and follows standard pickup logistics. Costco orders do not require pickup assistance \u2014 ticket is created for tracking only.</p> </li> <li> <p>BR-2 \u2013 Order Security: No order details are displayed unless both the email and order number match the WooCommerce record exactly.</p> </li> <li> <p>BR-3 \u2013 Item Selection Requirement: At least one item must be selected to proceed with a return or claim.</p> </li> <li> <p>BR-4 \u2013 Maximum Quantity: [MOVED to Phase 2 Backlog] The rule limiting returns to a maximum of two units per product type has been deferred.</p> </li> <li> <p>BR-5 \u2013 Complete Documentation: A claim cannot be submitted until 100% of required documentation (photos, measurements, lot number, description and invoice where applicable) is provided and validated at submission, except when customer service manually overrides. (Consolidates former A-1 and BR-10.)</p> </li> <li> <p>BR-6 \u2013 Freight &amp; Oversize: Freight or oversize rules apply for furniture, adjustable beds and oversized items; the system must enforce a CX Pre-Approval step before any labels are generated or pickups arranged.</p> </li> <li> <p>BR-7 \u2013 Duplicate Ticket Prevention: The system must prevent the creation of multiple tickets for the same items within a short window (specific timeframe configurable).</p> </li> <li> <p>BR-8 \u2013 Eligibility Calculation: Eligibility must be computed using delivered_date + return_period (see return windows). Past the window, items are not eligible.</p> </li> <li> <p>BR-9 \u2013 Warranty Check: Warranty claims remain available even after the return window has closed.</p> </li> <li> <p>BR-11 \u2013 Return Reason Mapping: Refunds must use the mapped WooCommerce reason for reporting and processing.</p> </li> <li> <p>BR-12 \u2013 Duplicate Refunds: No duplicate refund attempts are allowed; the system must detect prior refunds before initiating a new one.</p> </li> <li> <p>BR-13 \u2013 Retail Store Channel Routing: Channel selection determines routing directly \u2014 no backend store lookup is performed:</p> <ul> <li>Silk &amp; Snow Retail Store: Route to the standard WooCommerce online order flow (shared with Shopify POS orders).</li> <li>Sleep Country Retail Store: Display an in-store return message \u2014 \"This return cannot be processed through this portal. Please call the Sleep Country Customer Service team for further instructions.\" No tickets, labels, or refunds are generated in the portal.</li> </ul> </li> <li> <p>BR-15 \u2013 Bundle / Free Item 50% Keep Rule: When a bundle item is returned and the customer keeps the bundled/free item, the customer pays 50% of the full website price for the kept item. The refund is adjusted (prorated) to reflect this charge and the decision is recorded on the ticket. Note: This requires custom code integration to bridge the WooCommerce data structure with the portal.</p> </li> <li> <p>BR-16 \u2013 Vendor Pickup and Status Updates: Vendors (6\u201310 donation/pickup partners) must update mattress status to \"Picked\" in the portal via their vendor portal access. This status update must transition the item to \"Received\" to trigger refund logic.</p> </li> <li> <p>BR-17 \u2013 Furniture Return Process: The system must calculate and present return shipping charges (via WooCommerce service) before ticket submission. The customer must agree to pay the charge (or have it deducted). Note: Disposal pickups use the same charge as the courier rate. Once the customer accepts and submits, the ticket enters CX Review. Only upon CX Approval (of photos + charge) does the system automatically generate labels and pickup instructions.</p> </li> <li> <p>BR-18 \u2013 Accessory and Bedding Mail-In Flow: These items follow a single-step logistics flow: Reason/Photos -&gt; Label Generation -&gt; Mail-in.</p> </li> <li> <p>BR-19 \u2013 Caledonia Limited Access Role: Caledonia team uses a limited role to update status: Delivered \u2192 Processing \u2192 Inspection Completed. At the Inspection Completed step (WF-092), the team must select an Inspection Grade from a mandatory dropdown: Grade A (Resalable) | Grade B (Donatable) | Grade C (Damaged). A reason code is mandatory for all grades.</p> </li> <li> <p>BR-20 \u2013 Store Ops Returned Items Report: Store Ops must be able to generate a report of items in \"Inspection Completed\" status for inventory updates.</p> </li> <li> <p>BR-21 \u2013 Automatic Refund Threshold (&lt; 600):</p> <ul> <li>Net Refund Value &lt; 600: Auto-Refund initiated (if gateway supported).</li> <li>Net Refund Value &gt;= 600: Manual Refund (routed to CX).</li> </ul> </li> <li> <p>BR-22 \u2013 Return Label Limitation: The number of return labels generated cannot exceed the number of boxes/labels in the original order.</p> </li> <li> <p>BR-23 \u2013 US Accessory Keep Offer: For US opened accessories and bedding, the customer MUST be offered Option 1 (keep item for 50% refund, no proof required). This applies to opened items only. Unopened items follow the standard return label flow.</p> </li> <li> <p>BR-24 \u2013 US Accessory Donate Offer (Offline): Option 2 (donate for 100% refund) is no longer presented directly in the portal. When a customer accepts Option 1, the 50% refund is processed and the return is complete (customer keeps item). When a customer rejects Option 1, the system generates a Customer Care ticket. CX contacts the customer offline to encourage Option 2 (donate item for full refund with CX-verified proof).</p> </li> <li> <p>BR-25 \u2013 ~~Shipping Cost Threshold~~ (Superseded): This rule has been superseded. The shipping cost threshold (1/3 of item value) is no longer used. All US unopened accessories/bedding receive a return label via standard flow.</p> </li> <li> <p>BR-26 \u2013 Auto-Refund Bundle Exclusion: Automatic refunds are strictly prohibited for any order containing bundles or free items, regardless of refund value. All such orders MUST route to manual refund processing. This is a Phase 1 technical limitation due to the custom implementation required for bundle calculation (WF-070\u2192073).</p> </li> <li> <p>BR-27 \u2013 Warranty Label Wording: Courier pickup labels generated for warranty claims MUST include the text \"(Defective)\" or \"(Defective - this will help warehouse to avoid inspection of that piece)\" to signal the warehouse team to bypass standard inspection procedures.</p> </li> <li> <p>BR-28 \u2013 US Warehouse Offline Processing: US warehouse (LA/NJ) status updates are processed via email to Internal Ops, not through direct portal access. The portal MUST support manual status entry by Internal Ops for US returns.</p> </li> <li> <p>BR-29 \u2013 Self-Donate Selection: When the Return Logistics Team cannot secure a vendor for unboxed mattress pickup, they MUST act to select the \"Self-Donation\" option in the vendor list. This provides the customer with self-donation instructions. The customer must then complete donation, provide photo proof, and contact CX for manual return processing.</p> </li> <li> <p>BR-30 \u2013 Furniture Return Destinations: When calling the shipping API for furniture returns, the system must use region-specific destinations:</p> <ul> <li>Canada (CA): Returns always go to Caledonia warehouse.</li> <li>United States (US): Returns go to the origin warehouse as determined by the Fulfil ERP API. The API returns the originating warehouse for each SKU in the order. When an order was shipped from multiple warehouses, the system must route the return to the closest warehouse to the customer's shipping address (calculated via Google Maps geocoding). US warehouses: LA (JDLLA) \u2013 6509 Kimball Ave, Chino, CA 91708; NJ (JDLNJ) \u2013 55 Wildcat Way, Linden, NJ 07036.</li> </ul> </li> </ul>"},{"location":"business-rules.html#appendix-rules","title":"Appendix Rules","text":"<ul> <li>B-1 \u2013 Reason Inheritance: Each subcategory inherits the return reasons and mappings exactly as provided in the source tables.</li> </ul>"},{"location":"business-rules.html#discussion","title":"Discussion","text":"<p>\ud83d\udcac Comments for this page are available in Giscus. Once Giscus is configured, the discussion thread for this page will appear here.</p>"},{"location":"changelog.html","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p>"},{"location":"changelog.html#2026-02-26-workflow-channel-corrections-9-action-items","title":"2026-02-26 \u2013 Workflow &amp; Channel Corrections (9 Action Items)","text":""},{"location":"changelog.html#changed","title":"Changed","text":"<ul> <li>scope.md: Clarified US accessory return cost optimization \u2014 50% keep offer is automated via ClaimLane; 100% donate offer (with proof) remains a manual CX process. (AI-1)</li> <li>scope.md, process-high-level.md, functional-requirements.md (FR-1), business-rules.md (BR-13): Added Sleep Country Retail Store as a distinct purchase channel. Removed STORIS backend store lookup entirely \u2014 channel selection now determines routing directly. Silk &amp; Snow Retail routes to the WooCommerce online order flow; Sleep Country Retail directly displays the in-store return message directing customers to Sleep Country Customer Service. (AI-5, AI-6)</li> <li>process-high-level.md (8A. Boxed Mattresses): Documentation requirement for boxed mattress returns reduced to photo of the box only (law tag no longer collected). (AI-2)</li> <li>process-high-level.md (10B, 10D), functional-requirements.md (FR-35): Removed pickup assistance question from customer-facing warranty submission form. Pickup assistance is now a CX-initiated add-on \u2014 the default assumption is that the customer does not require assistance unless they call in to request it. (AI-3)</li> <li>process-high-level.md (WF-092), functional-requirements.md (FR-30), business-rules.md (BR-19): Added Inspection Grade dropdown at the Inspection Completed step (WF-092). Caledonia team must select Grade A (Resalable), Grade B (Donatable), or Grade C (Damaged). Reason code is mandatory for all grades. (AI-4)</li> <li>process-high-level.md (Step 3), functional-requirements.md (FR-4): Removed validation fallback options \u2014 the phone number retry alternative and the \"contact support\" escalation path are no longer offered. Customers may retry with corrected email and order number. (AI-7)</li> <li>process-high-level.md (Step 4), functional-requirements.md (FR-6): Removed colour and category from the order item display. Items now show variant image, size, quantity, and eligibility status only. (AI-8)</li> <li>process-high-level.md (10C, WF-052B): CX team can now override part selection when reviewing a warranty submission \u2014 applicable when the customer did not select a part or selected an incorrect part. (AI-9)</li> </ul>"},{"location":"changelog.html#context","title":"Context","text":"<ul> <li>AI-1: The scope description incorrectly implied both offer tiers were automated. Only the 50% keep offer runs through ClaimLane; the 100% donate path remains offline CX.</li> <li>AI-2: Law tag is not required for boxed mattress returns; a photo of the box is sufficient.</li> <li>AI-3: Proactively offering pickup assistance was expected to significantly increase uptake and warranty pickup costs. CX retains the ability to add it when a customer calls.</li> <li>AI-4: Inspection grading gives warehouse data visibility into condition of returned goods for inventory and resale decisions.</li> <li>AI-5/6: Sleep Country = STORIS. Exposing Sleep Country as a named channel eliminates the need for a backend store lookup that was not technically feasible. \"Shopify Online\" references corrected to \"WooCommerce Online\" throughout.</li> <li>AI-7: Phone number retry alternative and support escalation were not implementable as designed.</li> <li>AI-8: Colour and category were deemed unnecessary in the item display and removed to simplify the UI.</li> <li>AI-9: CX requires the ability to correct part selection on behalf of customers who submit without selecting or with an incorrect part.</li> </ul>"},{"location":"changelog.html#2026-02-18-us-accessories-scope-change-opened-items-only","title":"2026-02-18 - US Accessories Scope Change (Opened Items Only)","text":""},{"location":"changelog.html#changed_1","title":"Changed","text":"<ul> <li>functional-requirements.md: Rewrote FR-34 (US Accessory Return Handling) \u2014 removed multi-tier opened/unopened shipping cost logic. Unopened items now always receive a return label. Opened items receive Option 1 (keep for 50% refund); acceptance completes the return. Rejection generates a Customer Care ticket for offline Option 2 (donation).</li> <li>business-rules.md: Updated BR-23 (scoped to opened items only, removed high-cost unopened qualifier), rewrote BR-24 (Option 2 now offline via CX ticket), superseded BR-25 (shipping cost threshold no longer applicable).</li> <li>process-high-level.md: Rewrote Section 8C (US Accessories) \u2014 removed shipping cost decision for unopened items and direct Option 2 presentation; replaced with simplified flow.</li> <li>epics-user-stories.md: Updated US-6.3 acceptance criteria \u2014 removed shipping cost threshold for unopened items and multi-step Option 1 \u2192 Option 2 \u2192 decline flow for opened items.</li> </ul>"},{"location":"changelog.html#context_1","title":"Context","text":"<ul> <li>The shipping cost decision logic (1/3 of item value threshold) for US accessories was too difficult to determine in practice.</li> <li>Decision 1: Remove the 1/3 shipping cost threshold \u2014 unopened items always get a return label.</li> <li>Decision 2: Remove direct Option 2 (donation) presentation from the portal \u2014 when a customer rejects Option 1, a Customer Care ticket is generated. CX contacts the customer offline to encourage Option 2 (donate for full refund).</li> <li>If the customer accepts Option 1, they keep the item and receive a 50% refund (return complete).</li> </ul>"},{"location":"changelog.html#2026-02-18-third-party-vendor-integration-restored-to-phase-1","title":"2026-02-18 - Third-Party Vendor Integration Restored to Phase 1","text":""},{"location":"changelog.html#restored-to-phase-1","title":"Restored to Phase 1","text":"<ul> <li>Third-Party Vendor Integration (TSC, EQ3, Costco): Moved from Phase 2 backlog back to Phase 1 with a fundamentally simplified flow. Instead of the original vendor-approval workflow (which required a core architecture rebuild), the new approach uses vendor-initiated generic links with a Terms &amp; Conditions gate.</li> </ul>"},{"location":"changelog.html#added","title":"Added","text":"<ul> <li>functional-requirements.md: Added FR-46 (Third-Party Vendor Link Entry), FR-47 (Terms &amp; Conditions Gate), FR-48 (Pickup Details Collection), FR-49 (Third-Party Pickup Logistics).</li> <li>epics-user-stories.md: Added US-1.5 (Third-Party Vendor Link Entry &amp; Terms Acceptance).</li> <li>scope.md: Added third-party vendor link-based entry to in-scope processes.</li> </ul>"},{"location":"changelog.html#changed_2","title":"Changed","text":"<ul> <li>business-rules.md: Rewrote BR-1 (Third-Party Orders) \u2014 from \"block portal entry\" to vendor-specific link entry with T&amp;C gate and pickup logistics.</li> <li>functional-requirements.md: Updated FR-1 (Third-Party no longer uses channel selection), FR-32 (email triggers updated for new flow), FR-36 (superseded by FR-49), FR-39 (third-party refund context updated \u2014 no S&amp;S refund).</li> <li>process-high-level.md: Rewrote entire Section C (Third-Party Vendor Flow) \u2014 removed Phase 2 deferral warning, replaced vendor-approval workflow with link-based entry flow.</li> <li>epics-user-stories.md: Updated US-1.1 (third-party removed from channel selection), US-3.3 (channel eligibility), US-8.4 (pickup logistics rewritten for new flow), US-10.1 (refund routing \u2014 no S&amp;S refund for third-party), US-11.1 (email triggers updated).</li> <li>phase-2-backlog.md: Removed entire Third-Party Vendor Integration section. Updated executive summary, feature counts, quick reference, and extraction log. Renumbered remaining sections.</li> </ul>"},{"location":"changelog.html#context_2","title":"Context","text":"<ul> <li>The original Phase 2 deferral was based on the assumption that a full vendor-approval workflow was needed, requiring a core architecture rebuild.</li> <li>The new simplified approach: TSC/EQ3/Costco verify the customer's order externally, then share a generic ClaimLane link. The customer accepts T&amp;C (no S&amp;S refund, not authorized by vendor) and provides pickup details. ClaimLane handles pickup logistics only.</li> <li>Costco orders do not require pickup assistance \u2014 ticket created for tracking only.</li> <li>TSC / EQ3 orders follow standard pickup logistics (courier or disposal).</li> <li>The generic link is not unique to the customer \u2014 the T&amp;C page serves as the security gate.</li> </ul>"},{"location":"changelog.html#2026-02-18-us-warehouse-routing-via-fulfil-erp-api","title":"2026-02-18 - US Warehouse Routing via Fulfil ERP API","text":""},{"location":"changelog.html#added_1","title":"Added","text":"<ul> <li>functional-requirements.md: Added FR-45 (Fulfil API Warehouse Lookup) \u2014 new integration with Fulfil ERP API to determine origin warehouse per SKU and closest return warehouse for US orders. Includes warehouse codes (JDLLA, JDLNJ) and addresses.</li> </ul>"},{"location":"changelog.html#changed_3","title":"Changed","text":"<ul> <li>business-rules.md: Updated BR-30 (Furniture Return Destinations) \u2014 US returns now routed via Fulfil API with closest-warehouse logic for multi-warehouse orders (Google Maps geocoding).</li> <li>functional-requirements.md: Updated FR-20 (WF-138 destination) and FR-41 to reference Fulfil API instead of generic \"order metadata.\"</li> <li>process-high-level.md: Updated WF-138 US Furniture section to reference Fulfil API and closest warehouse logic.</li> <li>epics-user-stories.md: Updated US-6.2 (furniture acceptance criteria), US-6.5 (region-specific destinations), and US-10.1 (warehouse routing) to reference Fulfil API.</li> <li>scope.md: Clarified Fulfil ERP API description with origin warehouse per SKU and Google Maps geocoding.</li> </ul>"},{"location":"changelog.html#context_3","title":"Context","text":"<ul> <li>Original BRD assumed US returns would go to \"original shipping warehouse from order metadata.\" The Fulfil ERP API (currently under development by internal team) replaces this with a dedicated endpoint that returns the originating warehouse for each SKU.</li> <li>For orders shipped from multiple US warehouses, the API calculates the closest return warehouse to the customer's shipping address using Google Maps geocoding.</li> <li>US warehouse locations: LA (JDLLA) \u2014 6509 Kimball Ave, Chino, CA 91708; NJ (JDLNJ) \u2014 55 Wildcat Way, Linden, NJ 07036.</li> <li>Canada (CA) returns continue to route to Caledonia warehouse (unaffected by this change).</li> </ul>"},{"location":"changelog.html#2026-02-18-vendors-donationpickup-partners-restored-to-phase-1","title":"2026-02-18 - Vendors (Donation/Pickup Partners) Restored to Phase 1","text":""},{"location":"changelog.html#restored-to-phase-1_1","title":"Restored to Phase 1","text":"<ul> <li>Vendors (Donation / Pickup Partners): Vendor portal access and pickup status updates moved back to Phase 1. With only 6\u201310 vendors, the scope is manageable and does not require the originally anticipated multi-tenant complexity.</li> </ul>"},{"location":"changelog.html#changed_4","title":"Changed","text":"<ul> <li>phase-2-backlog.md: Removed entire Vendor section (Section 1). Updated executive summary, feature counts, quick reference, and implementation approach. Renumbered remaining sections.</li> <li>actors.md: Updated Vendors actor description \u2014 removed Phase 2 deferral note, clarified vendors have portal access in Phase 1.</li> <li>business-rules.md: Updated BR-16 to reflect vendor portal access as Phase 1 capability.</li> </ul>"},{"location":"changelog.html#context_4","title":"Context","text":"<ul> <li>The original deferral was based on concerns about multi-tenant authentication and data partitioning complexity for a large vendor network.</li> <li>With only 6\u201310 vendors confirmed, the technical complexity is significantly reduced, making Phase 1 inclusion feasible.</li> <li>Vendor functional requirements (FR-VENDOR-1 through FR-VENDOR-5) are now covered by existing Phase 1 FRs: FR-20, FR-32, FR-38.</li> <li>User stories US-8.1, US-8.2, US-8.3 (Epic 8) already describe full vendor functionality and remain unchanged.</li> <li>BR-16 (Vendor Pickup and Status Updates) is now a full Phase 1 business rule.</li> </ul>"},{"location":"changelog.html#2026-02-13-product-onboarding-removal-feature","title":"2026-02-13 - Product Onboarding &amp; Removal Feature","text":""},{"location":"changelog.html#added_2","title":"Added","text":"<ul> <li>functional-requirements.md: Added FR-42 (Product Onboarding via Excel Upload), FR-43 (Product Removal via soft-delete), FR-44 (Product Configuration Listing). Future state noted: direct sync with WooCommerce/external systems.</li> <li>epics-user-stories.md: Added Epic 12 \u2014 Product Onboarding &amp; Removal with 4 user stories (US-12.1 Excel upload, US-12.2 product removal, US-12.3 product listing view, US-12.4 future direct sync).</li> <li>scope.md: Added product onboarding/removal to in-scope processes.</li> </ul>"},{"location":"changelog.html#context_5","title":"Context","text":"<ul> <li>MVP: Excel upload for new products (SKU, category, fallback weight/dimensions, final sale, replacement parts). Product removal via email request (soft-delete).</li> <li>Future State: Direct real-time sync with WooCommerce and external product catalogue systems.</li> </ul>"},{"location":"changelog.html#2026-02-13-brd-duplicate-consolidation","title":"2026-02-13 - BRD Duplicate Consolidation","text":""},{"location":"changelog.html#changed_5","title":"Changed","text":"<ul> <li>epics-user-stories.md: Merged Batch 2 Updates into their original epics. US-6.3, US-8.1, US-10.1 updated in place. US-6.5, US-7.4, US-8.4, US-9.3 moved into their proper epics. Entire \"Batch 2 Updates\" section removed.</li> <li>phase-2-backlog.md: Replaced verbatim copies of user stories, business rules, FRs, and process narratives with one-line summaries and cross-references to canonical docs. Merged redundant Overview section into Executive Summary.</li> <li>business-rules.md: Merged BR-14 into BR-13 (STORIS detection). Merged A-1 and BR-10 into BR-5 (documentation completeness). Removed A-1 from appendix rules.</li> <li>functional-requirements.md: Removed FR-40 (region-specific furniture destinations) \u2014 already covered by FR-20 furniture bullet. Added WF-137/WF-138 references to FR-20.</li> <li>appendices.md: Updated A-1 reference to point to consolidated BR-5.</li> </ul>"},{"location":"changelog.html#removed-consolidated-not-deleted","title":"Removed (consolidated, not deleted)","text":"<ul> <li>BR-14 \u2192 merged into BR-13</li> <li>BR-10 \u2192 merged into BR-5</li> <li>A-1 \u2192 merged into BR-5</li> <li>FR-40 \u2192 merged into FR-20</li> <li>Batch 2 Updates section \u2192 stories merged into original epics</li> </ul>"},{"location":"changelog.html#2026-02-04-return-quantity-logic-deferral","title":"2026-02-04 - Return Quantity Logic Deferral","text":""},{"location":"changelog.html#moved-to-phase-2-backlog","title":"Moved to Phase 2 Backlog","text":"<ul> <li>Return Quantity Limits: The restriction preventing selection of more than 2 units (FR-10) and the historical limit rule (BR-4) have been moved to Phase 2 to allow broader returns in Phase 1.</li> </ul>"},{"location":"changelog.html#changed_6","title":"Changed","text":"<ul> <li>functional-requirements.md: Updated FR-10 to remove the 2-unit limit restriction.</li> <li>business-rules.md: Marked BR-4 as deferred.</li> <li>phase-2-backlog.md: Added new section \"4. Return Quantity Limits\" with valid context.</li> </ul>"},{"location":"changelog.html#2026-02-04-furniture-workflow-correction","title":"2026-02-04 - Furniture Workflow Correction","text":""},{"location":"changelog.html#changed_7","title":"Changed","text":"<ul> <li>Workflow Order Update: Corrected Furniture Return workflow.<ul> <li>Previous Logic: Upload -&gt; CX Approve -&gt; Quote -&gt; Label.</li> <li>New Logic: Upload -&gt; Quote &amp; Accept Charge -&gt; Submit Ticket -&gt; CX Approve -&gt; Auto-Generate Label.</li> </ul> </li> <li>Affected Files:<ul> <li><code>process-high-level.md</code> (Node sequence updated)</li> <li><code>functional-requirements.md</code> (FR-20 updated)</li> <li><code>business-rules.md</code> (BR-17 updated)</li> <li><code>epics-user-stories.md</code> (US-6.2 &amp; US-6.5 updated)</li> </ul> </li> <li>Clarification: Disposal pickups continue to use the same charge as courier rates.</li> </ul>"},{"location":"changelog.html#2026-02-03-vendor-pickup-workflow-automation","title":"2026-02-03 - Vendor Pickup Workflow Automation","text":""},{"location":"changelog.html#changed_8","title":"Changed","text":"<ul> <li>process-high-level.md: Updated WF-064/063A \"Vendor picks up\" step to reflect automated status update via Courier API (replacing manual status update).</li> <li>WorkFlowMermaid.mmd: Updated RL5 node text to \"Vendor picks up item; status auto-updated to 'Picked' via Courier API\".</li> </ul>"},{"location":"changelog.html#2026-02-03-batch-3-deep-scope-refinement-phase-2-move","title":"2026-02-03 - Batch 3: Deep Scope Refinement (Phase 2 Move)","text":""},{"location":"changelog.html#added_3","title":"Added","text":"<ul> <li>phase-2-backlog.md \u2014 New comprehensive Phase 2 backlog document containing all deferred features with complete context</li> </ul>"},{"location":"changelog.html#moved-to-phase-2-backlog_1","title":"Moved to Phase 2 Backlog","text":"<ul> <li>Vendors (Donation / Pickup Partners): Vendor portal access and pickup status update capabilities (vendor physical logistics remain in Phase 1 via manual workaround)</li> <li>Third-Party Vendor Integration: Complete TSC/EQ3/Costco workflow (WF-004\u2192017) \u2014 architecture lacks necessary logic for support</li> <li>Phase 2 Refund Logic: Bundle impact calculations (WF-070\u2192073) \u2014 WooCommerce limitations prevent automated bundle proration</li> </ul>"},{"location":"changelog.html#changed_9","title":"Changed","text":"<ul> <li>actors.md: Updated Vendors actor description with Phase 1/Phase 2 split clarification</li> <li>process-high-level.md: Added Phase 2 deferral warning to Third-Party Vendor Flow section</li> <li>functional-requirements.md: (No placeholders added \u2014 requirements remain documented for future reference)</li> <li>business-rules.md: (No changes \u2014 BR-26 bundle exclusion kept as Phase 1 constraint)</li> <li>epics-user-stories.md: (No changes \u2014 user stories remain for future implementation)</li> </ul>"},{"location":"changelog.html#extraction-method","title":"Extraction Method","text":"<ul> <li>Functional Items: Complete requirements, user stories, and business rules copied to backlog with full context</li> <li>Narrative &amp; Actors: Added inline deferral notes and warning boxes (content not deleted to preserve flow)</li> <li>Supporting Artifacts: No scope changes (manual workarounds remain in Phase 1)</li> </ul>"},{"location":"changelog.html#coverage","title":"Coverage","text":"<ul> <li>Features Extracted: 3 major features</li> <li>User Stories Moved: 7 user stories (Epic 8 components, Epic 4 components, Epic 11 components)</li> <li>Business Rules Documented: 4 business rules (BR-1, BR-15, BR-16, BR-26)</li> <li>Functional Requirements: 13 deferred requirements (FR-9, FR-VENDOR-1 through FR-VENDOR-5, FR-TP-1 through FR-TP-5)</li> </ul>"},{"location":"changelog.html#2026-02-02-core-logic-update","title":"2026-02-02 - Core Logic Update","text":""},{"location":"changelog.html#added_4","title":"Added","text":"<ul> <li>9 New Functional Requirements (FR-33 to FR-41): Defective routing, US accessory abuse prevention, warranty/third-party logistics splits, US warehouse offline process, self-donate fallback, flow routing, region-specific destinations</li> <li>7 New Business Rules (BR-23 to BR-29): US accessory offers, shipping threshold, bundle exclusion, warranty label wording, US warehouse offline, self-donate mandate</li> <li>2 New Actors: Internal Ops, US Warehouse Team (LA/NJ)</li> </ul>"},{"location":"changelog.html#changed_10","title":"Changed","text":"<ul> <li>FR-12/13: Defective routing trigger and opt-out</li> <li>FR-20: Region split (CA\u2192Caledonia, US\u2192Origin), self-donate fallback, 7-flow table</li> <li>FR-23: Bundle exclusion for auto-refunds</li> <li>FR-32: Third-party and warranty emails</li> <li>05-process: Region-specific logistics table, defective routing, bundle constraints, US warehouse workflow</li> <li>04-actors: Added Internal Ops and US Warehouse Team</li> </ul>"},{"location":"changelog.html#coverage_1","title":"Coverage","text":"<ul> <li>Mapped 50+ workflow nodes (WF-001 to WF-138)</li> <li>9 decision points documented</li> <li>3 warehouse subgraphs covered</li> </ul>"},{"location":"changelog.html#supporting-docs-update-5-files","title":"Supporting Docs Update (5 Files)","text":""},{"location":"changelog.html#changed_11","title":"Changed","text":"<ul> <li>scope.md: Added 6 in-scope processes (defective routing, US accessory abuse prevention, self-donation fallback, offline US warehouse, region-specific furniture logistics, warranty/third-party pickup splits), added WooCommerce API to systems</li> <li>epics-user-stories.md: Added 5 new user stories (US-1.4 defective routing, US-6.5 furniture destinations, US-7.4 warranty logistics, US-8.4 third-party logistics, US-9.3 US warehouse), added Epic 11 for email notifications (US-11.1), updated 4 existing stories (US-6.2 WooCommerce API, US-6.3 US accessory logic, US-8.1 self-donate fallback, US-10.1 Refund Context Routing &amp; bundle exclusion)</li> <li>non-functional-requirements.md: Added NFR-8 for offline workflow reliability with 24-hour SLA for Internal Ops processing</li> <li>overview-purpose.md: Updated objectives to include region-specific logistics, offline operations, abuse prevention, and defective routing</li> <li>Batch 2 Updates section added: Comprehensive user story updates documented in separate section for clarity</li> </ul>"},{"location":"changelog.html#unreleased","title":"[Unreleased]","text":""},{"location":"changelog.html#added_5","title":"Added","text":"<ul> <li>Retail Store Backend Detection (Shopify POS vs STORIS).</li> <li>Bundle / Free Item 50% Keep Rule.</li> <li>Unboxed Mattress vendor selection and No-Photo rule.</li> <li>Furniture return two-step process (CX Pre-approval).</li> <li>Caledonia Warehouse limited access role.</li> <li>Automatic Refund Threshold (&lt; 600).</li> <li>New Actors: Retail Store, Caledonia Team, Store Ops, Return Logistics.</li> </ul>"},{"location":"changelog.html#changed_12","title":"Changed","text":"<ul> <li>Updated Process Flow Diagram to align with new logic.</li> <li>Updated Actors list.</li> <li>Updated Business Rules and Functional Requirements to reflect new flows.</li> </ul>"},{"location":"changelog.html#discussion","title":"Discussion","text":""},{"location":"epics-user-stories.html","title":"Claimlane Returns, Refunds &amp; Warranty Portal \u2014 Epics, Features &amp; User Stories","text":"<p>This document outlines the high-level epics and user stories supporting the Claimlane returns and warranty experience. User stories express business intent and customer value. Detailed functional rules, workflows, validations, and technical considerations remain documented separately in the BRD and Functional Requirements.</p>"},{"location":"epics-user-stories.html#epic-1-customer-entry-channel-intent-routing","title":"Epic 1 \u2014 Customer Entry, Channel &amp; Intent Routing","text":""},{"location":"epics-user-stories.html#us-11-select-purchase-channel","title":"US-1.1 Select Purchase Channel","text":"<p>As a customer, I want to choose where I purchased so I am routed correctly.</p> <p>Acceptance Criteria</p> <ol> <li>Customer can pick from:<ul> <li>Silk &amp; Snow Online (CA / US)</li> <li>Retail Store (in-person)</li> </ul> </li> <li>Third-Party Vendor orders do not use the channel selection screen \u2014 they enter via vendor-specific generic links (see US-1.5 and FR-46).</li> <li>Online and Retail selections proceed to store / order validation steps.</li> </ol>"},{"location":"epics-user-stories.html#us-12-store-selector-for-retail-purchases-shopify-vs-storis","title":"US-1.2 Store Selector for Retail Purchases (Shopify vs STORIS)","text":"<p>As a customer who bought in store, I want the system to know whether my store supports online returns.</p> <p>Acceptance Criteria</p> <ol> <li>Retail selection shows a list of stores.</li> <li>System looks up each store as Shopify POS or STORIS (non-Shopify).</li> <li>Shopify POS stores continue into the standard Shopify flow (order lookup etc.).</li> <li>Sales from STORIS stores show a message: \"Returns must be completed in-store.\" The portal flow ends (no ticket or label is generated).</li> </ol>"},{"location":"epics-user-stories.html#us-13-select-return-vs-warranty","title":"US-1.3 Select Return vs Warranty","text":"<p>As a customer, I want to indicate whether I am doing a return or warranty claim so the correct rules apply.</p> <p>Acceptance Criteria</p> <ol> <li>Customer must choose \u201cReturn\u201d or \u201cWarranty Claim.\u201d</li> <li>The chosen intent determines:<ul> <li>Which items are eligible.</li> <li>Which questions / documentation are requested.</li> <li>Which policy tables (return period vs warranty period) are checked.</li> </ul> </li> </ol>"},{"location":"epics-user-stories.html#us-14-defective-reason-auto-routing-to-warranty","title":"US-1.4 Defective Reason Auto-Routing to Warranty","text":"<p>As a customer who selects \"Defective\" as my return reason, I want the system to route me to warranty replacement unless I opt out.</p> <p>Acceptance Criteria</p> <ol> <li>When \"Defective\" is selected during reason selection, system displays opt-out checkbox: \"I prefer a return instead of warranty replacement.\"</li> <li>If opt-out is NOT checked, flow automatically redirects to Warranty claim process (Epic 7).</li> <li>If opt-out IS checked, flow continues with standard return logistics.</li> <li>Decision is logged in ticket for audit purposes.</li> <li>Mapping to diagram: REASON_CHECK decision (WF-030) routes to WF-052 (Warranty).</li> </ol>"},{"location":"epics-user-stories.html#us-15-third-party-vendor-link-entry-terms-acceptance","title":"US-1.5 Third-Party Vendor Link Entry &amp; Terms Acceptance","text":"<p>As a customer directed by a third-party vendor (TSC, EQ3, Costco), I want to access ClaimLane via a link provided by the vendor so I can arrange pickup of my return item.</p> <p>Acceptance Criteria</p> <ol> <li>Each third-party vendor (TSC, EQ3, Costco) has a dedicated generic link to ClaimLane that identifies the vendor.</li> <li>The link is not unique to the customer \u2014 the same link is shared with all customers of that vendor.</li> <li>When the customer opens the link, the system displays a Terms &amp; Conditions page before any other action (security gate for non-unique links).</li> <li>T&amp;C clearly states:<ul> <li>No refund will be issued by Silk &amp; Snow \u2014 the refund is the sole responsibility of the third-party vendor.</li> <li>The return is not authorized by the third-party partner \u2014 Silk &amp; Snow facilitates pickup logistics only.</li> </ul> </li> <li>Customer must explicitly accept T&amp;C (checkbox + confirm button) to proceed.</li> <li>If customer declines T&amp;C, flow ends with a message directing them back to the third-party vendor.</li> <li>After T&amp;C acceptance, customer provides pickup details: address, access constraints, preferred dates, photos, and contact information.</li> <li>System creates a ClaimLane ticket tagged with the vendor name.</li> <li>TSC / EQ3 orders: Proceed to standard pickup logistics (courier or disposal \u2014 see US-8.4).</li> <li>Costco orders: Ticket created for tracking only \u2014 no pickup assistance required. Flow ends.</li> </ol>"},{"location":"epics-user-stories.html#epic-2-order-lookup-validation","title":"Epic 2 \u2014 Order Lookup &amp; Validation","text":""},{"location":"epics-user-stories.html#us-21-capture-order-details","title":"US-2.1 Capture Order Details","text":"<p>As a customer, I want to provide my order details so my order can be found.</p> <p>Acceptance Criteria</p> <ol> <li>Email and order number fields are mandatory.</li> <li>Basic format validation runs before lookup (e.g., non-empty, valid email pattern).</li> </ol>"},{"location":"epics-user-stories.html#us-22-validate-order-identity","title":"US-2.2 Validate Order &amp; Identity","text":"<p>As a system, I want to show order information only when the customer data matches.</p> <p>Acceptance Criteria</p> <ol> <li>Order is returned only when email and order number match a valid record.</li> <li>On success, order items and relevant channels (web, Shopify POS) become available.</li> <li>On failure, a generic \u201cWe could not find your order\u201d message is shown, with retry or contact-support options.</li> <li>No detailed reason is disclosed that could leak security information.</li> </ol>"},{"location":"epics-user-stories.html#epic-3-item-display-eligibility-reasons","title":"Epic 3 \u2014 Item Display, Eligibility &amp; Reasons","text":""},{"location":"epics-user-stories.html#us-31-display-items-with-eligibility-state","title":"US-3.1 Display Items with Eligibility State","text":"<p>As a customer, I want to see all items from my order and whether they are eligible.</p> <p>Acceptance Criteria</p> <ol> <li>All items in the order are displayed with: name, type, quantity, and category.</li> <li>Each item shows an eligibility state derived from:<ul> <li>Product category and time since delivery.</li> <li>Channel (web, retail, POS, third-party).</li> <li>Condition flags (final sale, already returned).</li> </ul> </li> <li>Items that are not eligible are clearly marked and cannot be selected.</li> </ol>"},{"location":"epics-user-stories.html#us-32-enforce-return-windows-by-category","title":"US-3.2 Enforce Return Windows by Category","text":"<p>As a system, I want return eligibility to follow the correct period per category.</p> <p>Acceptance Criteria</p> <ol> <li>Mattresses:<ul> <li>Eligible up to 365 nights from delivery date; show \u201cearly return\u201d warning if under configured trial nights (e.g., &lt;30).</li> <li>Not eligible beyond 365 nights; portal blocks the return.</li> </ul> </li> <li>Furniture: eligible up to 30 days from delivery date; not eligible afterwards.</li> <li>Bedding, Bath, Accessories, Toppers: eligible up to 100 nights from delivery date; not eligible afterwards.</li> <li>Custom Hybrid Mattress: never eligible for return (warranty only).</li> </ol>"},{"location":"epics-user-stories.html#us-33-enforce-eligibility-by-channel","title":"US-3.3 Enforce Eligibility by Channel","text":"<p>As a system, I want eligibility to respect how and where the item was purchased.</p> <p>Acceptance Criteria</p> <ol> <li>Web orders: fully supported in the portal.</li> <li>Retail orders fulfilled via Shopify: accepted in the portal if order ID matches.</li> <li>POS-only purchases: portal may provide guidance, but must force returns to be completed in store.</li> <li>Third-party vendors (TSC, EQ3, Costco): customers enter via vendor-specific link with T&amp;C gate (see US-1.5). No refund from S&amp;S \u2014 pickup logistics only.</li> </ol>"},{"location":"epics-user-stories.html#us-34-map-customer-return-reasons-to-woocommerce-reasons","title":"US-3.4 Map Customer Return Reasons to WooCommerce Reasons","text":"<p>As a system, I want all customer-facing return reasons mapped to the correct WooCommerce reason so reporting and refunds are consistent.</p> <p>Acceptance Criteria</p> <ol> <li>For each category (Bath, Bedding, Furniture, Mattress), the customer sees the configured reason list for that category/subcategory.</li> <li>When a reason is selected, the correct internal Woo reason code is attached (e.g., \u201cToo Thin\u201d, \u201cColour\u201d, \u201cShipping Damage\u201d, \u201cToo Firm\u201d, etc.).</li> <li>The same mapping is reused across subcategories where the appendix specifies inheritance.</li> <li>The Woo reason code is included in any refund API call or export.</li> </ol>"},{"location":"epics-user-stories.html#us-35-select-items-quantities","title":"US-3.5 Select Items &amp; Quantities","text":"<p>As a customer, I want to select one or more items and quantities for return or warranty.</p> <p>Acceptance Criteria</p> <ol> <li>Customer can select multiple eligible items and quantities up to the purchased amount.</li> <li>The portal blocks progression if no eligible items are selected.</li> <li>Items already returned or refunded in full cannot be selected again.</li> </ol>"},{"location":"epics-user-stories.html#epic-4-bundle-gift-condition-rules","title":"Epic 4 \u2014 Bundle, Gift &amp; Condition Rules","text":""},{"location":"epics-user-stories.html#us-41-apply-bundle-eligibility-rules","title":"US-4.1 Apply Bundle Eligibility Rules","text":"<p>As a system, I want bundled items to follow bundle-specific refund rules.</p> <p>Acceptance Criteria</p> <ol> <li>Full bundle returned \u2192 full bundle price can be refunded.</li> <li>Single components (e.g., pillow or duvet from a bundle) \u2192 refund is prorated based on configured value.</li> <li>Free gift / gift-with-purchase must either be returned or have its value deducted from the refund.</li> </ol>"},{"location":"epics-user-stories.html#us-42-free-bundled-item-keep-at-discount-option","title":"US-4.2 Free / Bundled Item \u201cKeep at Discount\u201d Option","text":"<p>As a customer with a bundle or free item, I want the option to keep certain items at a discounted price when returning the main item. (Future Phase)</p> <p>Acceptance Criteria</p> <ol> <li>When returning a mattress or applicable accessory bundle with free items, the portal:<ul> <li>Detects associated free/bundled items.</li> <li>Prompts the customer with the keep-option (e.g., keep item at 50% of list price).</li> </ul> </li> <li>If customer chooses to keep the item, its discounted value is deducted from the refund and the decision is recorded on the ticket.</li> <li>If customer chooses to return, normal bundle rules apply (no extra deduction).</li> </ol>"},{"location":"epics-user-stories.html#us-43-enforce-condition-based-eligibility","title":"US-4.3 Enforce Condition-Based Eligibility","text":"<p>As a system, I want condition rules to be applied to eligibility and internal flags.</p> <p>Acceptance Criteria</p> <ol> <li>Unboxed mattress returns are marked as \u201crequires approval\u201d and require photos.</li> <li>Furniture missing packaging is marked \u201cconditionally eligible\u201d and sets an internal \u201cMissing Packaging\u201d flag.</li> <li>Final-sale items are always blocked from return.</li> </ol>"},{"location":"epics-user-stories.html#epic-5-documentation-capture-per-appendix-a","title":"Epic 5 \u2014 Documentation Capture (Per Appendix A)","text":""},{"location":"epics-user-stories.html#us-51-enforce-category-specific-documentation-requirements","title":"US-5.1 Enforce Category-Specific Documentation Requirements","text":"<p>As a system, I want each claim reason and category to require the correct documentation before submission.</p> <p>Acceptance Criteria</p> <ol> <li>For mattresses, furniture, bedding, bath, the portal enforces the documentation sets from Appendix A for each claim reason (e.g., base photo, measurements, tag photos, marked assembly guide).</li> <li>Required documentation changes dynamically when the customer changes reason or item category.</li> <li>The claim cannot be submitted if required documentation for that combination is missing, unless an internal CS override is applied.</li> </ol>"},{"location":"epics-user-stories.html#us-52-capture-global-documentation-fields","title":"US-5.2 Capture Global Documentation Fields","text":"<p>As a system, I want global documentation requirements to be applied to all claims.</p> <p>Acceptance Criteria</p> <ol> <li>Lot number, issue description and invoice (for retail/third-party purchases) are required according to the global rules.</li> <li>Measurements are required whenever the issue relates to size or fit.</li> <li>Tag photos are requested for all categories where specified as standard.</li> </ol>"},{"location":"epics-user-stories.html#us-53-upload-manage-files","title":"US-5.3 Upload &amp; Manage Files","text":"<p>As a customer, I want to upload and manage my documentation easily.</p> <p>Acceptance Criteria</p> <ol> <li>Customers can upload photos and documents from mobile and desktop.</li> <li>Each file shows a preview or filename.</li> <li>Customers can remove and re-upload files before submission.</li> <li>Errors are surfaced with clear retry guidance.</li> </ol>"},{"location":"epics-user-stories.html#epic-6-item-specific-return-flows","title":"Epic 6 \u2014 Item-Specific Return Flows","text":""},{"location":"epics-user-stories.html#us-61-mattress-boxed-vs-unboxed-routing","title":"US-6.1 Mattress: Boxed vs Unboxed Routing","text":"<p>As a customer returning a mattress, I want the system to guide me correctly based on whether it is boxed.</p> <p>Acceptance Criteria</p> <ol> <li>After selecting a mattress, customer is asked whether it is still boxed.</li> <li>Boxed \u2192 photo + tag + measurement flow, then label/pickup instructions.</li> <li>Unboxed \u2192 additional questions about condition / donation and vendor-selection flow.</li> </ol>"},{"location":"epics-user-stories.html#us-62-furniture-two-step-cx-approval","title":"US-6.2 Furniture: Two-Step CX Approval","text":"<p>As a customer returning furniture, I want CX to review my photos before I organize pickup.</p> <p>Acceptance Criteria</p> <ol> <li>Quote &amp; Acceptance (Step 1):<ul> <li>Customer uploads required photos and description.</li> <li>System calls WooCommerce API for carrier rates with region-specific destinations:<ul> <li>Canada: Caledonia warehouse address (WF-137)</li> <li>United States: Closest return warehouse from Fulfil API \u2014 LA (JDLLA) or NJ (JDLNJ) (WF-138; see FR-45)</li> </ul> </li> <li>Customer is notified of shipping charges.<ul> <li>Note: If the pickup is for \"Disposal\", the system charges the same amount as a courier pickup.</li> </ul> </li> <li>Customer accepts charges and provides access constraints/pickup dates.</li> <li>Customer submits ticket.</li> </ul> </li> <li>CX Review &amp; Auto-Label (Step 2):<ul> <li>Request is sent to CX queue (WF-070A).</li> <li>CX can approve, decline, or request more info.</li> <li>Approved:<ul> <li>System automatically generates carrier/pickup instructions and label.</li> </ul> </li> <li>Declined:<ul> <li>Customer sees clear messaging and available alternatives.</li> </ul> </li> </ul> </li> </ol>"},{"location":"epics-user-stories.html#us-63-accessories-bedding-bath-region-specific-flow","title":"US-6.3 Accessories, Bedding &amp; Bath: Region-Specific Flow","text":"<p>As a customer returning smaller items, I want a simple label-based process that accounts for my region.</p> <p>Acceptance Criteria</p> <ol> <li> <p>Canada (CA): For all accessories/bedding within return window:</p> <ul> <li>System collects reason and required photos/measurements.</li> <li>Generates return label and mail-in instructions immediately (WF-041\u2192076A\u2192077A).</li> </ul> </li> <li> <p>United States (US) \u2014 Unopened Items:</p> <ul> <li>Generate return label and mail-in instructions (WF-111). Standard flow.</li> </ul> </li> <li> <p>United States (US) \u2014 Opened Items:</p> <ul> <li>Present Option 1: Keep item for 50% refund, no proof required (WF-117).</li> <li>If accepted: Process 50% refund \u2014 customer keeps the item and the return is complete.</li> <li>If rejected: Generate a Customer Care ticket. CX contacts customer offline to encourage Option 2 (donate for full refund).</li> </ul> </li> <li> <p>All customer decisions are logged in ticket.</p> </li> </ol>"},{"location":"epics-user-stories.html#us-64-label-generation-limits","title":"US-6.4 Label Generation Limits","text":"<p>As a system, I want to limit return labels to the original box count to prevent shipping waste.</p> <p>Acceptance Criteria</p> <ol> <li>The portal validates that the requested number of return labels does not exceed the number of labels/boxes in the original shipment.</li> <li>If the user requests more labels than the original order had, the system blocks generation and shows an error message explaining the limit.</li> </ol>"},{"location":"epics-user-stories.html#us-65-furniture-region-specific-return-destinations","title":"US-6.5 Furniture: Region-Specific Return Destinations","text":"<p>As a customer returning furniture, I want the system to calculate shipping to the correct warehouse based on my region.</p> <p>Acceptance Criteria</p> <ol> <li>After customer uploads items (Step 1), system determines customer region from order metadata.</li> <li>System calls Fulfil ERP API with the WooCommerce order ID to determine the return warehouse destination (see FR-45):<ul> <li>The API returns the originating warehouse for each SKU and the closest return warehouse for US orders.</li> <li>For orders shipped from multiple warehouses, the API calculates which US warehouse (LA \u2013 JDLLA or NJ \u2013 JDLNJ) is closest to the customer's shipping address via Google Maps geocoding.</li> </ul> </li> <li>System calls WooCommerce API for live carrier rates:<ul> <li>Canada (CA): API destination is always Caledonia warehouse address (WF-137).</li> <li>United States (US): API destination is the closest return warehouse from the Fulfil API response (WF-138).</li> </ul> </li> <li>Customer is notified of shipping charges.<ul> <li>Note: For disposal pickups, the charge is set to match the courier pickup rate.</li> </ul> </li> <li>Customer accepts charges and provides pickup details.</li> <li>Customer submits ticket for CX Review.</li> <li>Upon CX Approval, label/instructions are automatically generated.</li> <li>This ensures US returns go to the correct US warehouse (origin or closest), not to Canadian warehouse.</li> </ol>"},{"location":"epics-user-stories.html#epic-7-warranty-claims","title":"Epic 7 \u2014 Warranty Claims","text":""},{"location":"epics-user-stories.html#us-71-enforce-warranty-periods-by-category","title":"US-7.1 Enforce Warranty Periods by Category","text":"<p>As a system, I want warranty eligibility to follow the correct duration for each category.</p> <p>Acceptance Criteria</p> <ol> <li>Warranty eligibility is checked against warranty periods starting from the delivery date (e.g., mattresses 15 years, adjustable beds 10, furniture/sofa 5, pillows/toppers 3, bedding/bath/accessories 1).</li> <li>Claims beyond the warranty period are blocked with a clear message.</li> </ol>"},{"location":"epics-user-stories.html#us-72-warranty-questionnaire-documentation","title":"US-7.2 Warranty Questionnaire &amp; Documentation","text":"<p>As a customer, I want to provide the information needed for my warranty claim.</p> <p>Acceptance Criteria</p> <ol> <li>The portal presents a questionnaire tailored to product category and claim reason, using Appendix A documentation rules.</li> <li>Required fields (photos, measurements, tags, lot number, invoice where relevant) must be provided before submission.</li> <li>Claim is not sent for review until all required inputs are complete.</li> </ol>"},{"location":"epics-user-stories.html#us-73-warranty-review-outcome","title":"US-7.3 Warranty Review &amp; Outcome","text":"<p>As CX or vendor, I want to review warranty claims and decide the outcome.</p> <p>Acceptance Criteria</p> <ol> <li>Reviewer can set the decision: approve, decline, or request more info.</li> <li>Approved \u2192 triggers replacement / refund / repair workflow according to product category and internal rules.</li> <li>Declined \u2192 portal sends clear explanation to customer.</li> </ol>"},{"location":"epics-user-stories.html#us-74-warranty-pickup-logistics-split","title":"US-7.4 Warranty Pickup Logistics Split","text":"<p>As a customer with an approved warranty claim, I want to choose the appropriate pickup method.</p> <p>Acceptance Criteria</p> <ol> <li>After CX approves warranty claim (WF-052C), system asks: \"Do you need pickup assistance?\" (WF-052F).</li> <li>If NO: Standard customer-initiated return flow proceeds.</li> <li>If YES: System presents two pickup options (WF-052H):<ul> <li>Courier Pickup: CX provides coordination and guidance. System generates return label with text (Defective) or (Defective - this will help warehouse to avoid inspection of that piece) to signal warehouse to skip inspection (WF-052G).</li> <li>Disposal Pickup: Case is logged for Return Logistics Team to assign disposal vendor (WF-052I connects to shared logistics WF-059/065A).</li> </ul> </li> <li>Pickup type selection is recorded in ticket.</li> </ol>"},{"location":"epics-user-stories.html#epic-8-vendor-logistics-management","title":"Epic 8 \u2014 Vendor &amp; Logistics Management","text":""},{"location":"epics-user-stories.html#us-81-vendor-selection-for-unboxed-donation-flows","title":"US-8.1 Vendor Selection for Unboxed / Donation Flows","text":"<p>As an internal logistics user, I want to select the vendor who will pick up or receive the item.</p> <p>Acceptance Criteria</p> <ol> <li>System shows allowed vendors for the item type and location.</li> <li>Internal user (Return Logistics Team) can select a vendor.</li> <li>Selection triggers emails to vendor and customer with instructions.</li> <li>Vendor receives portal access to mark items as \"Picked.\"</li> <li>Self-Donate Option (WF-130):<ul> <li>If no vendor is available, the Return Logistics Team manually selects \"Self-Donation\" as the vendor/outcome.</li> <li>Customer receives instructions to donate item, take photo of donation, and contact CX (call/email).</li> <li>CX processes return manually in ClaimLane portal (WF-132).</li> <li>Case closes after CX confirms donation proof.</li> </ul> </li> <li>The selection (Vendor vs. Self-Donate) is logged in ticket history.</li> </ol>"},{"location":"epics-user-stories.html#us-82-vendor-change-handling","title":"US-8.2 Vendor Change Handling","text":"<p>As an internal user, I want to change vendors when needed without losing context.</p> <p>Acceptance Criteria</p> <ol> <li>User can change from one vendor to another before pickup is completed.</li> <li>New vendor receives updated notification; previous vendor is informed the job was reassigned.</li> <li>Customer receives updated email with new vendor details.</li> </ol>"},{"location":"epics-user-stories.html#us-83-vendor-pickup-confirmation","title":"US-8.3 Vendor Pickup Confirmation","text":"<p>As a vendor, I want to confirm pickup in the portal so downstream processing can continue.</p> <p>Acceptance Criteria</p> <ol> <li>Vendor can update status to \"Picked\" for assigned items.</li> <li>Status change triggers transition to \"Received\" once warehouse confirms arrival, or to \"In Transit\" as configured.</li> </ol>"},{"location":"epics-user-stories.html#us-84-third-party-pickup-logistics-tsc-eq3","title":"US-8.4 Third-Party Pickup Logistics (TSC / EQ3)","text":"<p>As a customer who entered via a third-party vendor link and accepted T&amp;C, I want pickup to be arranged for my return item.</p> <p>Acceptance Criteria</p> <ol> <li>After customer submits pickup details via vendor link (US-1.5), system creates a ClaimLane ticket and routes TSC / EQ3 orders to pickup logistics (WF-011A):<ul> <li>Courier Pickup: CX provides coordination and guidance. System generates return label (WF-012).</li> <li>Disposal Pickup: Case is logged for Return Logistics Team (WF-011B, connects to shared logistics flow WF-059/065A).</li> </ul> </li> <li>Pickup type is recorded in ticket.</li> <li>For courier: Pickup confirmation triggers item collected status (WF-014\u2192015). Vendor is notified.</li> <li>For disposal: Follows same vendor selection flow as unboxed mattresses (WF-059/065A).</li> <li>Costco orders do not enter this flow \u2014 ticket is created for tracking only (no pickup assistance).</li> <li>No refund is issued by Silk &amp; Snow \u2014 the refund is handled by the third-party vendor directly.</li> </ol>"},{"location":"epics-user-stories.html#epic-9-caledonia-warehouse-inventory","title":"Epic 9 \u2014 Caledonia Warehouse &amp; Inventory","text":""},{"location":"epics-user-stories.html#us-91-caledonia-status-updates","title":"US-9.1 Caledonia Status Updates","text":"<p>As Caledonia staff, I want to update the status of returned items in the portal.</p> <p>Acceptance Criteria</p> <ol> <li>Caledonia users have limited-access roles restricting them to:<ul> <li>Mark \u201cDelivered,\u201d \u201cProcessing,\u201d \u201cInspection Completed.\u201d</li> </ul> </li> <li>Status changes are timestamped and visible in the case history.</li> </ol>"},{"location":"epics-user-stories.html#us-92-inventory-update-reporting","title":"US-9.2 Inventory Update Reporting","text":"<p>As Store Ops, I want a report of all items ready for inventory updates.</p> <p>Acceptance Criteria</p> <ol> <li>Report includes items marked \u201cInspection Completed,\u201d with SKU, condition, and disposition (resale / donate / scrap).</li> <li>Report can be exported for ERP or inventory tools.</li> <li>Running the report does not change any status by itself.</li> </ol>"},{"location":"epics-user-stories.html#us-93-us-warehouse-offline-status-updates","title":"US-9.3 US Warehouse Offline Status Updates","text":"<p>As Internal Ops, I want to manually update return statuses for US warehouse returns since they operate offline.</p> <p>Acceptance Criteria</p> <ol> <li>US warehouses (LA/NJ) do NOT have direct portal access.</li> <li>When return is delivered to US warehouse (WF-133):<ul> <li>US warehouse emails status update to Internal Ops team (WF-134).</li> <li>Email communication is offline (not integrated with portal).</li> </ul> </li> <li>Internal Ops team manually updates portal status: Delivered \u2192 Processing / Inspection Completed (WF-135).</li> <li>Internal Ops runs \"Returned items\" report for US inventory reconciliation (WF-136).</li> <li>Status transitions are timestamped and visible in case history.</li> <li>This process mirrors Caledonia workflow but operates via email instead of direct portal access.</li> </ol>"},{"location":"epics-user-stories.html#epic-10-refund-case-finalization","title":"Epic 10 \u2014 Refund &amp; Case Finalization","text":""},{"location":"epics-user-stories.html#us-101-auto-vs-manual-refund-thresholds-flow-routing","title":"US-10.1 Auto vs Manual Refund Thresholds &amp; Flow Routing","text":"<p>As a system, I want refunds to be automated when safe and routed for manual review when required.</p> <p>Acceptance Criteria</p> <ol> <li> <p>Once an item is marked \"Received,\" system uses Refund Context Routing decision point to determine flow context (line 233 in diagram):</p> <ul> <li>Return: Apply auto/manual refund logic below (WF-067\u2192068/069).</li> <li>Warranty: Trigger replacement order creation (WCX flow).</li> <li>Third-Party: Notify vendor that item has been collected \u2014 no S&amp;S refund issued (see BR-1).</li> </ul> </li> <li> <p>For Return flow, system calculates net return value after:</p> <ul> <li>Bundle proration.</li> <li>Gift-with-purchase deductions.</li> <li>Any fees or shipping deductions.</li> </ul> </li> <li> <p>Auto-refund criteria (Phase 1):</p> <ul> <li>Net value &lt; 600 (store currency) AND</li> <li>Order does NOT contain bundles or free items (WF-067).</li> </ul> </li> <li> <p>If auto-refund criteria are met AND gateway supports automated refunds: trigger automatic refund (WF-068).</p> </li> <li> <p>Manual refund criteria:</p> <ul> <li>Net value &gt;= 600, OR</li> <li>Order contains bundles/free items, OR</li> <li>Flagged as exception (WF-069).</li> </ul> </li> <li> <p>Manual cases route to CX refund queue.</p> </li> <li> <p>Customer is notified whether refund is automatic or under review.</p> </li> <li> <p>Future Phase Note: Bundle impact calculations (WF-070\u2192073) will enable adjusted auto-refunds for qualifying bundled orders.</p> </li> <li> <p>Warehouse Routing (Dest_Check): After refund processing, system routes to appropriate warehouse using destination check (WF-239):</p> <ul> <li>CA Destinations: Route to Caledonia workflow (R1\u2192R2\u2192R4\u2192R5).</li> <li>US Destinations: Route to US warehouse offline workflow (R_US\u2192R2_US\u2192R4_US\u2192R5_US). Specific US warehouse (LA or NJ) determined by Fulfil API (see FR-45).</li> </ul> </li> </ol>"},{"location":"epics-user-stories.html#us-102-apply-category-specific-refund-notes","title":"US-10.2 Apply Category-Specific Refund Notes","text":"<p>As a system, I want category rules about refunds to be reflected correctly (e.g., furniture shipping deductions).</p> <p>Acceptance Criteria</p> <ol> <li>Furniture returns show messaging that return shipping costs may be deducted unless escalated, and the deduction is shown in the refund breakdown.</li> <li>Other categories follow standard full-refund rules unless configured otherwise in the policy tables.</li> </ol>"},{"location":"epics-user-stories.html#us-103-close-case-maintain-audit-trail","title":"US-10.3 Close Case &amp; Maintain Audit Trail","text":"<p>As an internal user, I want each case to have a complete history and close cleanly.</p> <p>Acceptance Criteria</p> <ol> <li>When refund or replacement is completed, the case moves to \u201cClosed.\u201d</li> <li>The case history shows key events: eligibility checks, documentation submissions, vendor selections, status changes, and refund decisions.</li> <li>Audit log is accessible to authorised internal users only.</li> </ol>"},{"location":"epics-user-stories.html#epic-11-notifications-communications","title":"Epic 11 \u2014 Notifications &amp; Communications","text":""},{"location":"epics-user-stories.html#us-111-automated-email-triggers","title":"US-11.1 Automated Email Triggers","text":"<p>As a system, I want to send automated emails at key workflow decision points to keep customers and vendors informed.</p> <p>Acceptance Criteria</p> <ol> <li>Email sent when third-party pickup ticket is created via vendor link (FR-48).</li> <li>Email sent to vendor when third-party item has been collected (pickup completed).</li> <li>Email sent to customer when warranty claim is declined by CX (WF-052D).</li> <li>Email sent when unboxed mattress vendor is assigned (existing feature).</li> <li>Email sent when unboxed mattress vendor is changed, notifying new vendor and customer (existing feature).</li> <li>Email sent when furniture return is approved/declined by CX (existing feature).</li> <li>All emails are logged in ticket history with timestamps.</li> <li>Email templates are configurable without code changes.</li> <li>Failed email delivery triggers retry logic and alerts internal team.</li> </ol>"},{"location":"epics-user-stories.html#epic-12-product-onboarding-removal","title":"Epic 12 \u2014 Product Onboarding &amp; Removal","text":""},{"location":"epics-user-stories.html#us-121-onboard-new-products-via-excel-upload","title":"US-12.1 Onboard New Products via Excel Upload","text":"<p>As an admin, I want to upload an Excel file to onboard new products so they are available for returns and warranty claims without code changes.</p> <p>Acceptance Criteria</p> <ol> <li>Admin uploads an Excel file with one row per product/variant containing: SKU, product name, category, subcategory (optional), final sale flag, fallback weight/dimensions (optional), warranty-only flag, and region.</li> <li>An optional second sheet defines replacement parts with parent SKU, part SKU, and part name.</li> <li>System validates all rows before committing: rejects unknown categories, duplicate SKUs, and missing required fields.</li> <li>Admin sees a preview screen with parsed rows and row-level errors highlighted in red.</li> <li>No data is saved until admin confirms the import.</li> <li>Upload event is logged with: admin identity, timestamp, file name, and row count.</li> <li>Newly onboarded products appear in eligibility checks for subsequent customer orders.</li> </ol>"},{"location":"epics-user-stories.html#us-122-remove-a-product","title":"US-12.2 Remove a Product","text":"<p>As an admin, I want to remove a product from the portal so it no longer appears in customer flows.</p> <p>Acceptance Criteria</p> <ol> <li>Admin requests product removal (MVP: via email to system administrator).</li> <li>Before deactivation, the system displays a warning showing the count of active/open tickets referencing the product.</li> <li>Removal is a soft-delete \u2014 the product is marked inactive, not permanently deleted.</li> <li>Deactivated products no longer appear as eligible in customer-facing item displays.</li> <li>Historical ticket data and reports continue to reference the deactivated product.</li> <li>Removal event is logged with admin identity and timestamp.</li> </ol>"},{"location":"epics-user-stories.html#us-123-view-onboarded-products","title":"US-12.3 View Onboarded Products","text":"<p>As an admin, I want to see all onboarded products and their configuration so I can verify the current state.</p> <p>Acceptance Criteria</p> <ol> <li>Admin can access a read-only listing of all products showing: SKU, name, category, region, final sale flag, warranty-only flag, and status (active/inactive).</li> <li>Listing supports search by SKU or product name.</li> <li>Listing supports filtering by category, region, or status.</li> <li>Inactive products are visually distinguished (e.g., greyed out or labelled).</li> </ol>"},{"location":"epics-user-stories.html#us-124-future-state-direct-system-sync","title":"US-12.4 Future State \u2014 Direct System Sync","text":"<p>As a system, I want product data to sync directly from WooCommerce and external catalogues so manual Excel uploads are no longer needed.</p> <p>Acceptance Criteria</p> <ol> <li>System connects to WooCommerce product API to pull SKUs, names, categories, weights, and dimensions automatically.</li> <li>New products in WooCommerce appear in ClaimLane without manual intervention.</li> <li>Removed or discontinued products in WooCommerce are flagged for admin review (not auto-deactivated).</li> <li>Deferred to future phase \u2014 MVP uses Excel upload (US-12.1) and email-based removal (US-12.2).</li> </ol>"},{"location":"epics-user-stories.html#discussion","title":"Discussion","text":""},{"location":"functional-requirements.html","title":"Functional Requirements","text":"<p>The following requirements describe what the portal must do. Each requirement is assigned a reference number (FR-x) and grouped by functional area.</p>"},{"location":"functional-requirements.html#purchase-channel-and-intent-selection","title":"Purchase Channel and Intent Selection","text":"<ul> <li> <p>FR-1 \u2013 Channel Selection UI: Provide a start screen where the customer selects:</p> <ul> <li>Silk &amp; Snow Online \u2013 CA (WooCommerce)</li> <li>Silk &amp; Snow Online \u2013 US (WooCommerce) (visible to US customers only, if possible)</li> <li>Silk &amp; Snow Retail Store (in-person)</li> <li>Sleep Country Retail Store (in-person)</li> <li>Third-Party Vendor</li> </ul> <p>No backend store lookup is performed. Channel selection determines routing directly: - Silk &amp; Snow Retail Store: Routes to the WooCommerce online order flow (shared with Shopify POS orders). - Sleep Country Retail Store: Displays an in-store return message \u2014 \"This return cannot be processed through this portal. Please call the Sleep Country Customer Service team for further instructions.\" Flow ends. - Note: Third-party vendor orders do not use this channel selection screen \u2014 they enter via vendor-specific links (see FR-46).</p> </li> <li> <p>FR-2 \u2013 Intent Selection: After channel selection, present options for \"Return\", \"Warranty Claim\", or other return type (configurable). The selection determines which subsequent screens and logic apply.</p> </li> </ul>"},{"location":"functional-requirements.html#order-lookup-and-security","title":"Order Lookup and Security","text":"<ul> <li> <p>FR-3 \u2013 Order Lookup Fields: For online orders, display fields for email and order number. Both are required and must exactly match a WooCommerce order before showing any order details.</p> </li> <li> <p>FR-4 \u2013 Input Validation: Validate email format and trim leading/trailing spaces for both email and order number. Show clear error messages for missing or invalid fields.</p> </li> <li> <p>FR-5 \u2013 Order Retrieval: When email and order number match, retrieve and display the corresponding order details. If no match is found, inform the customer without revealing any order information.</p> </li> </ul>"},{"location":"functional-requirements.html#item-display-and-eligibility","title":"Item Display and Eligibility","text":"<ul> <li> <p>FR-6 \u2013 Display Items: Show all items on the order with their variant image, size, quantity and status (e.g., \"Eligible\", \"Trial Ended\", \"Final Sale\", \"Already Returned\").</p> </li> <li> <p>FR-7 \u2013 Eligibility Calculation: Compute eligibility for each item using the delivered date plus return period (per category), final sale flags, trial windows, prior returns and channel restrictions. Items that are past the return window, final sale, already returned or from an incorrect channel must be marked \"Not Eligible\". Mattresses returned within 30 nights should trigger a soft warning but remain eligible; unboxed mattresses and furniture without packaging should be flagged as \"Conditionally Eligible\" requiring vendor approval or admin flags.</p> </li> <li> <p>FR-8 \u2013 Category Filtering: Hide items that do not belong to the selected return type (e.g., returning accessories should not show mattresses).</p> </li> <li> <p>FR-9 \u2013 Bundles Handling: Identify bundle items. When a main item is returned but the customer keeps a bundled/free item, the portal must offer the option to keep the bundled/free item at 50% of the full website price (not the bundle price) and adjust the refund amount accordingly. [DEFERRED TO FUTURE PHASE] Technical Requirement: This functionality requires custom implementation to parse WooCommerce bundle data and calculate proration via the API.</p> </li> </ul>"},{"location":"functional-requirements.html#item-selection","title":"Item Selection","text":"<ul> <li> <p>FR-10 \u2013 Item Selection: Allow the customer to select one or more eligible items and specify quantities (up to the purchased quantity). [RESTRICTION DEFERRED TO FUTURE PHASE] The constraint preventing selection of more than two units has been moved to the backlog.</p> </li> <li> <p>FR-11 \u2013 Validate Selection: Require at least one item to be selected before proceeding. If no item is selected, display a validation message.</p> </li> </ul>"},{"location":"functional-requirements.html#reason-selection-and-mapping","title":"Reason Selection and Mapping","text":"<ul> <li> <p>FR-12 \u2013 Return Reasons: Present a dropdown of customer-facing return reasons based on the product category and language. Include \"Other/Change of Mind\" for returns where permitted and hide it for warranty claims. If \"Other\" is selected, provide a text field for additional details. When \"Defective\" is selected as a return reason, trigger the defective routing logic (see FR-33).</p> </li> <li> <p>FR-13 \u2013 Claim Reasons: Provide a category-specific list of warranty claim reasons with business-approved wording. Do not allow \"Other\" or change-of-mind reasons for claims. Provide an opt-out mechanism for customers who selected \"Defective\" but prefer a return instead of warranty replacement.</p> </li> <li> <p>FR-14 \u2013 Reason Mapping: Map each selected customer reason to the corresponding WooCommerce refund reason for reporting and refund processing.</p> </li> </ul>"},{"location":"functional-requirements.html#documentation-capture","title":"Documentation Capture","text":"<ul> <li> <p>FR-15 \u2013 Documentation Requirements: Based on the product category and claim reason, determine the required documentation (e.g., base photos, measurement photos, tag photos, lot number, invoice copy, description). Present upload fields accordingly.</p> </li> <li> <p>FR-16 \u2013 Upload Validation: Enforce required documentation before submission. Validate file types, sizes and image clarity; provide user feedback when uploads fail and allow retry.</p> </li> <li> <p>FR-17 \u2013 General Documentation: Collect lot number and detailed description for all claims and require an invoice when the purchase was made through a retail store or third-party vendor.</p> </li> </ul>"},{"location":"functional-requirements.html#logistics-and-label-generation","title":"Logistics and Label Generation","text":"<ul> <li> <p>FR-18 \u2013 Box Count Input: When generating return labels, prompt the customer to enter the number of boxes (1\u201320) and validate the value. If no boxes are entered, require at least one box. The input must be a valid, non-zero number and cannot exceed the total box count of the original shipment.</p> </li> <li> <p>FR-19 \u2013 Label Generation: Integrate with the selected shipping carrier API to generate one label per box using the customer's shipping address, item weight and dimensions. Use fallback weights when master data is missing. Store tracking numbers and prevent duplicate labels on reprints.</p> </li> <li> <p>FR-20 \u2013 Pickup &amp; Freight Rules:</p> <ul> <li>Mattress (Boxed): Provide drop-off instructions/labels.</li> <li>Mattress (Unboxed): Collect condition and donation eligibility. Do not send photos to the vendor. The Return Logistics Manager must manually select a donation or pickup vendor. Supporting Vendor Change functionality is required, which must trigger updated emails to the new vendor and customer. If no vendor is available, offer the customer a self-donation option (see FR-38).</li> <li>Furniture: Implement a flow where:<ol> <li>Customer uploads photos/details.</li> <li>System calls WooCommerce API for live carrier rates (Destination: CA \u2192 Caledonia (WF-137), US \u2192 Closest return warehouse from Fulfil API (WF-138); see FR-45).</li> <li>Charge Logic: If the pickup is for disposal, apply the courier rate charge (standardized business decision).</li> <li>Customer accepts charges and provides pickup details to submit the ticket.</li> <li>CX Review &amp; Approval: CX reviews the submitted ticket (photos + agreed charge).</li> <li>Approval Action: If approved, the system automatically generates shipping labels and pickup instructions.</li> </ol> </li> <li>Collect access constraints and pickup dates, then generate label/instructions.</li> </ul> </li> <li> <p>FR-21 \u2013 Label Display &amp; Reprints: Show generated labels and tracking information to the customer. Allow re-printing without creating new labels or incurring extra charges.</p> </li> </ul>"},{"location":"functional-requirements.html#ticket-creation-and-backend-integration","title":"Ticket Creation and Backend Integration","text":"<ul> <li> <p>FR-22 \u2013 Ticket Creation: Upon submission, create a Claimlane ticket capturing customer and order details, selected items, reasons, documentation, eligibility status, labels, tags (product category and issue type) and notes. Prevent duplicate tickets for the same items within a short timeframe.</p> </li> <li> <p>FR-23 \u2013 Refund Processing:</p> <ul> <li>Auto-Refund: When items are marked \"Received\" and the net refund value is less than 600 (store currency) AND the order does NOT contain bundles or free items, automatically initiate the refund in WooCommerce (if gateway supported). This is a Phase 1 constraint.</li> <li>Manual Refund: When items are marked \"Received\" and the net refund value is 600 or greater, OR the order contains bundles/free items, route the ticket to CX for manual refund processing. This is required because bundle proration logic is a custom implementation not standard to the platform.</li> <li>For partial refunds, adjust only the line item amount and leave inventory unchanged. If the gateway or currency does not support automated refunds, mark the ticket for manual refund.</li> <li>Future Phase: Bundle impact calculations (WF-070\u2192073) will enable adjusted auto-refunds for qualifying bundled orders. Until then, all orders with bundles require manual processing.</li> </ul> </li> <li> <p>FR-24 \u2013 Replacement Order Creation: For approved warranty claims, create a WooCommerce order for replacement items using the customer's billing/shipping details, set the order status to \"Processing\" and notify the customer via WooCommerce.</p> </li> <li> <p>FR-25 \u2013 Exception Handling: Support exception flows, including manual POS returns, vendor review required (e.g., unboxed mattresses, furniture without packaging), manual refunds due to gateway issues and customer service overrides. Maintain logs and alerts for any failures during API calls (ticket creation, label generation, refund processing) with clear guidance to the customer.</p> </li> </ul>"},{"location":"functional-requirements.html#user-experience-and-messaging","title":"User Experience and Messaging","text":"<ul> <li> <p>FR-26 \u2013 UX Navigation: Provide a clear \"Start Over\" button after order lookup to allow customers to cancel and restart the process. Preserve session state when navigating back or refreshing pages and handle double submits gracefully (only one ticket/refund is created).</p> </li> <li> <p>FR-27 \u2013 Help &amp; Support: Include a \"Help\" page that only displays the Silk &amp; Snow support email and a link to the Silk &amp; Snow chatbot. Do not include telephone numbers or other channels unless explicitly approved.</p> </li> <li> <p>FR-28 \u2013 Localization: At launch the portal operates in English only; French copy is supported via translation tables but must be marketing-approved. Copy must be consistent across screens and reasons.</p> </li> <li> <p>FR-29 \u2013 Accessibility &amp; Responsiveness: Ensure that all key actions are accessible via keyboard only and that pages display correctly on mobile browsers.</p> </li> </ul>"},{"location":"functional-requirements.html#new-functionality","title":"New Functionality","text":"<ul> <li> <p>FR-30 \u2013 Caledonia Portal: Provide a limited access role/view for the Caledonia Warehouse Team to allow updating return status from Delivered \u2192 Processing / Inspection Completed. At the Inspection Completed step (WF-092), the team must select an Inspection Grade from a mandatory dropdown: Grade A (Resalable) | Grade B (Donatable) | Grade C (Damaged). A reason code is mandatory for all grades. This status update must feed into the \"Received\" logic for refunds.</p> </li> <li> <p>FR-31 \u2013 Reporting: Provide Store Operations with the ability to generate a \"Returned items\" report listing items that have reached \"Inspection Completed\" status for inventory updates.</p> </li> <li> <p>FR-32 \u2013 Email Triggers: Configure specific email triggers for:</p> <ul> <li>Unboxed Mattress Vendor Assignment.</li> <li>Unboxed Mattress Vendor Change (notify new vendor and customer).</li> <li>Furniture Return Approval/Decline by CX.</li> <li>Third-Party Pickup Ticket Created (notify CX and vendor via FR-48).</li> <li>Third-Party Pickup Completed (notify vendor that item has been collected).</li> <li>Warranty Claim Declined by CX (WF-052D).</li> </ul> </li> <li> <p>FR-33 \u2013 Defective Reason Routing: When a customer selects items to return and chooses \"Defective\" as the reason, the system must check if the customer opted out of product replacement. If the customer did NOT opt out, redirect the flow to the Warranty claim process (WF-052) instead of standard return logistics. Provide a clear opt-out checkbox during reason selection.</p> </li> <li> <p>FR-34 \u2013 US Accessory Return Handling: For US Accessories and Bedding returns:</p> <ul> <li>Unopened Items: Generate return label and proceed with standard mail-in flow (WF-111).</li> <li>Opened Items: Present Option 1 (Keep Offer: keep item for 50% refund, no proof required). If customer accepts Option 1: process 50% refund \u2014 customer keeps the item and the return is complete. If customer rejects Option 1: generate a Customer Care ticket. CX contacts the customer offline to encourage Option 2 (donate item for 100% refund with proof).</li> <li>All decisions and customer responses must be logged in the ticket.</li> </ul> </li> <li> <p>FR-35 \u2013 Warranty Pickup Logistics: After CX approves a warranty claim (WF-052C), the default assumption is that the customer does not require pickup assistance. Pickup assistance is not presented to the customer during submission \u2014 the CX team may add it as a follow-on action if the customer calls in to request it (WF-052F). If pickup assistance is added by CX, determine pickup type:</p> <ul> <li>Courier Pickup: CX provides coordination and guidance. Generate a return label that includes the text (Defective - this will help warehouse to avoid inspection of that piece) to signal the warehouse team to bypass inspection (WF-052G).</li> <li>Disposal Pickup: Log the case for the Return Logistics Team to assign a disposal vendor (WF-052I connects to shared return logistics WF-059/065A).</li> </ul> </li> <li> <p>FR-36 \u2013 Third-Party Logistics Split: (Superseded by FR-49.) After a third-party customer submits pickup details via the vendor link (FR-48), the system routes TSC and EQ3 orders to standard pickup logistics:</p> <ul> <li>Courier Pickup: CX provides pickup coordination and generates a return label (WF-012).</li> <li>Disposal Pickup: Log the case for the Return Logistics Team (WF-011B connects to shared return logistics WF-059/065A).</li> </ul> </li> <li> <p>FR-37 \u2013 US Warehouse Offline Process: For returns shipped to US warehouses (LA or NJ), implement an offline status update workflow:</p> <ul> <li>US Warehouse team receives the return (WF-133).</li> <li>US Warehouse team emails return status to Internal Ops team (WF-134) - this communication is offline to ClaimLane.</li> <li>Internal Ops team manually updates the return status in ClaimLane portal: Delivered \u2192 Processing / Inspection Completed (WF-135).</li> <li>Internal Ops team runs the \"Returned items\" report for inventory reconciliation (WF-136).</li> </ul> </li> <li> <p>FR-38 \u2013 Unboxed Mattress Self-Donate Fallback: When the Return Logistics Team cannot find an available vendor for unboxed mattress pickup (WF-059/065A \"No Vendor Available\" path), offer the customer a self-donation option:</p> <ul> <li>Customer agrees to donate the item themselves, takes a photo of the donation, and contacts CX via call or email (WF-130).</li> <li>CX team processes the return manually in the ClaimLane portal (WF-132).</li> <li>Close the case after CX confirms donation proof.</li> </ul> </li> <li> <p>FR-39 \u2013 Flow Context Routing: Implement two critical routing decision points:</p> <ul> <li>Intent-Based Routing (after validation): After customer login and order validation (WF-027/100/043), route to either Return flow (WF-029/102) or Warranty flow (WF-052) based on the customer's intent selection.</li> <li>Refund Context Routing (after item received): After an item is marked \"Received\" (WF-089), route the refund logic based on the flow context: Return (apply auto/manual refund rules), Warranty (place replacement order), or Third-Party (notify vendor that item has been collected \u2014 no S&amp;S refund issued; see BR-1).</li> </ul> </li> <li> <p>FR-41 \u2013 Destination-Based Warehouse Routing: After refund processing is complete, route the item to the appropriate warehouse workflow based on destination:</p> <ul> <li>CA Destinations: Route to Caledonia warehouse workflow (WF-090\u2192091\u2192092\u2192093).</li> <li>US Destinations: Route to US warehouse offline workflow (WF-133\u2192134\u2192135\u2192136). The specific US warehouse (LA or NJ) is determined by the Fulfil API (see FR-45).</li> </ul> </li> </ul>"},{"location":"functional-requirements.html#product-onboarding-removal","title":"Product Onboarding &amp; Removal","text":"<ul> <li> <p>FR-42 \u2013 Product Onboarding via Excel Upload: Provide an admin-accessible interface for onboarding new products into the ClaimLane portal via Excel file upload. The Excel file must contain one row per product (or product variant) with the following fields:</p> Field Required Description SKU Yes Unique product identifier (must match WooCommerce SKU) Product Name Yes Display name Category Yes Must match an existing product category (Mattress, Furniture, Bedding, Bath, Accessories) Subcategory No e.g., Adjustable Bed, Upholstered Frame, Percale Bedding Final Sale Yes Yes/No \u2014 blocks returns when Yes Fallback Weight (kg) No Used for label generation when WooCommerce master data is missing (FR-19) Fallback Dimensions (LxWxH cm) No Used for label generation when WooCommerce master data is missing Warranty Only No Yes/No \u2014 if Yes, product is not eligible for returns (e.g., Custom Hybrid Mattress) Region Yes CA / US / BOTH <p>Replacement Parts Sheet (optional): For products with warranty replacement parts (e.g., furniture sub-components), a second sheet may define parent-child relationships:</p> Field Required Description Parent SKU Yes The main product SKU Part SKU Yes The replacement part SKU Part Name Yes Display name (e.g., \"Drawer \u2013 Top Left\") <p>The system must:</p> <ul> <li>Validate all rows before committing: reject unknown categories, duplicate SKUs, missing required fields.</li> <li>Display a preview of parsed rows with row-level errors highlighted.</li> <li>Require admin confirmation before saving to the product configuration store.</li> <li>Log the upload event (who, when, file name, row count) for audit.</li> </ul> </li> <li> <p>FR-43 \u2013 Product Removal: Allow an admin to remove (deactivate) a product from the portal. In the MVP, removal may be initiated via email request to the system administrator. The administrator performs a soft-delete (marks the product inactive). Deactivated products must:</p> <ul> <li>No longer appear as eligible in customer-facing item displays.</li> <li>Remain visible in historical ticket data and reports.</li> <li>Trigger a warning showing the count of active/open tickets referencing the product before deactivation is confirmed.</li> </ul> </li> <li> <p>FR-44 \u2013 Product Configuration Listing: Provide a read-only admin view listing all onboarded products with: SKU, name, category, region, final sale flag, warranty-only flag, and status (active/inactive). Support search by SKU or product name and filtering by category, region, or status.</p> <p>Future State: Replace Excel upload and email-based removal with a direct real-time sync to WooCommerce and external product catalogue systems, eliminating manual file handling entirely.</p> </li> </ul>"},{"location":"functional-requirements.html#warehouse-origin-lookup","title":"Warehouse Origin Lookup","text":"<ul> <li> <p>FR-45 \u2013 Fulfil API Warehouse Lookup: Integrate with the Fulfil ERP API to determine the origin warehouse for each SKU in a return order. The system must call the API endpoint with the WooCommerce order ID and receive:</p> <ul> <li>The originating warehouse for each SKU in the order.</li> <li>The closest return warehouse for US orders (calculated by the API using Google Maps geocoding of the customer's shipping address against US warehouse locations).</li> </ul> <p>US Warehouse Locations:</p> Warehouse Code Address JDLLA 6509 Kimball Ave, Chino, CA 91708 JDLNJ 55 Wildcat Way, Linden, NJ 07036 <p>Routing Logic:</p> <ul> <li>Single-warehouse orders: Return to the originating warehouse.</li> <li>Multi-warehouse orders: Return to the warehouse closest to the customer's shipping address.</li> <li>Canada (CA) orders: Always route to Caledonia warehouse (Fulfil API not used for CA destination).</li> </ul> </li> </ul>"},{"location":"functional-requirements.html#third-party-vendor-entry","title":"Third-Party Vendor Entry","text":"<ul> <li> <p>FR-46 \u2013 Third-Party Vendor Link Entry: Each third-party vendor (TSC, EQ3, Costco) must have a dedicated generic link to the ClaimLane portal. The link is not unique to individual customers \u2014 it identifies only the vendor. The vendor shares this link with the customer after verifying the order externally. When the customer opens the link, the system must:</p> <ol> <li>Identify the vendor from the link parameters.</li> <li>Present a Terms &amp; Conditions page (see FR-47) before any other action.</li> <li>After T&amp;C acceptance, route to the pickup details collection flow (see FR-48).</li> </ol> </li> <li> <p>FR-47 \u2013 Third-Party Terms &amp; Conditions Gate: When a customer accesses the portal via a third-party vendor link, the system MUST display a Terms &amp; Conditions page before proceeding. The T&amp;C must clearly state:</p> <ol> <li>No refund will be issued by Silk &amp; Snow \u2014 the refund is the sole responsibility of the third-party vendor.</li> <li>The return is not authorized by the third-party partner \u2014 Silk &amp; Snow is facilitating pickup logistics only.</li> </ol> <p>The customer must explicitly accept the T&amp;C (checkbox + confirm button) before proceeding. If the customer declines, the flow ends with a message directing them back to the third-party vendor.</p> </li> <li> <p>FR-48 \u2013 Third-Party Pickup Details Collection: After T&amp;C acceptance, collect the following from the customer:</p> <ul> <li>Pickup address / location.</li> <li>Access constraints (elevator, stairs, gate codes, etc.).</li> <li>Preferred pickup dates.</li> <li>Photos of the item (condition documentation).</li> <li>Contact information for pickup coordination.</li> </ul> <p>Upon submission, create a ClaimLane ticket tagged with the third-party vendor name and route to standard pickup logistics (courier or disposal). </p> </li> <li> <p>FR-49 \u2013 Third-Party Pickup Logistics: For TSC and EQ3 orders requiring pickup assistance, the system follows standard pickup logistics after ticket creation:</p> <ul> <li>Courier Pickup: CX provides pickup coordination and guidance. Generate a return label (WF-012).</li> <li>Disposal Pickup: Log the case for the Return Logistics Team to assign a disposal vendor (WF-011B, connects to shared return logistics WF-059/065A).</li> </ul> <p>For Costco orders, no pickup logistics are initiated \u2014 the ticket is created for tracking and the vendor handles returns independently.</p> </li> </ul>"},{"location":"functional-requirements.html#discussion","title":"Discussion","text":""},{"location":"non-functional-requirements.html","title":"Non Functional Requirements","text":"<ul> <li> <p>NFR-1 \u2013 Security: Enforce strict order lookup security so that a customer cannot access order details unless both email and order number match exactly. Sanitize all user inputs and store documentation securely.</p> </li> <li> <p>NFR-2 \u2013 Availability &amp; Reliability: Maintain high availability of the portal and integrate retry logic for external API calls (labels, refunds, ticket creation). Gracefully handle carrier or gateway downtime with user messages and fallback instructions.</p> </li> <li> <p>NFR-3 \u2013 Performance: Order lookup, item display and label generation should respond within acceptable user experience thresholds (e.g., &lt; 2 seconds for lookups, &lt; 5 seconds for labels) under normal load.</p> </li> <li> <p>NFR-4 \u2013 Compliance &amp; Data Privacy: Adhere to privacy regulations (e.g., PIPEDA, GDPR) by limiting data collection to necessary information and providing clear privacy notices. Retain documentation only for the duration needed to process claims.</p> </li> <li> <p>NFR-5 \u2013 Maintainability &amp; Configurability: Business rules (return windows, warranty periods, reasons mapping, documentation requirements) should be configurable without code changes. The system should support updates to product categories and policies.</p> </li> <li> <p>NFR-6 \u2013 Audit &amp; Logging: Record all key actions (order lookup, item selection, documentation uploads, label generation, refunds) with timestamps for auditability. Capture error messages and API responses for troubleshooting.</p> </li> <li> <p>NFR-7 \u2013 Scalability: Design the portal and integrations to handle peak return volumes (e.g., seasonal spikes) without degradation of service.</p> </li> <li> <p>NFR-8 \u2013 Offline Workflow Reliability: For US warehouse operations (LA/NJ) that rely on email-based status updates, Internal Ops must process warehouse email notifications within 24 business hours to prevent customer inquiry escalation. Implement monitoring alerts for delayed US warehouse status updates (&gt;48 hours) to ensure SLA compliance and customer experience consistency.</p> </li> </ul>"},{"location":"non-functional-requirements.html#discussion","title":"Discussion","text":""},{"location":"overview-purpose.html","title":"Overview and Purpose","text":"<p>Silk &amp; Snow aims to replace an ad-hoc email-based return and warranty process with Claimlane, a guided self-service portal covering returns, replacements and warranty claims.</p> <p>The portal must enforce trial, return, warranty and refund policies consistently while reducing customer-service workload through automation.</p> <p>This document consolidates the requirements extracted from the provided BRD, return reason mappings, warranty/return policy tables and testing worksheet. It identifies functional and non-functional requirements, business rules, constraints, dependencies, risks, assumptions, epics, user stories and acceptance criteria, and highlights gaps or ambiguities.</p>"},{"location":"overview-purpose.html#objectives","title":"Objectives","text":"<ul> <li>Provide a self-service portal that guides customers through returns, warranty claims and replacements.</li> <li>Automate eligibility checks, document collection, refund processing and replacement order creation where supported.</li> <li> <p>Implement region-specific logistics flows (CA vs US) for furniture and accessories, routing returns to appropriate warehouse destinations.</p> </li> <li> <p>Support offline warehouse operations via email-based status updates for US facilities (LA/NJ) through Internal Ops team.</p> </li> <li> <p>Optimize return costs through multi-tier offer logic for US accessories (50% keep offer, 100% donate offer with proof).</p> </li> <li> <p>Automatically route defective returns to warranty flow with customer opt-out mechanism.</p> </li> <li> <p>Reduce label and documentation errors and prevent incorrect returns.</p> </li> <li>Deliver structured data for defect analytics, lot tracking, vendor and customer-service reporting.</li> <li>Ensure a consistent, policy-driven customer experience across Canada and the United States.</li> </ul>"},{"location":"overview-purpose.html#discussion","title":"Discussion","text":""},{"location":"phase-2-backlog.html","title":"Deferred Features Backlog (Phase 2 &amp; Future Phase)","text":""},{"location":"phase-2-backlog.html#executive-summary","title":"Executive Summary","text":"<p>During Discussions with ClaimLane &amp; Internal Stakeholders, feature sets were systematically extracted from the Phase 1 BRD and moved to this Phase 2 backlog. This strategic deferral allows the team to focus Phase 1 delivery on core return and warranty flows while preserving complete context for future implementation.</p>"},{"location":"phase-2-backlog.html#deferred-features-at-a-glance","title":"Deferred Features at a Glance","text":"Feature Scope Business Impact Technical Complexity Bundle Refund Logic (Future Phase) Automated bundle impact calculations and 50% keep option Medium - Manual processing workaround in Phase 1 High - WooCommerce limitations, custom API integration needed Return Quantity Limits (Future Phase) Historical and per-request return limits Low - No limits in Phase 1 Low - Order history checks required"},{"location":"phase-2-backlog.html#why-these-features-were-deferred","title":"Why These Features Were Deferred","text":"<p>1. Refund Logic with Bundle Impact Calculations</p> <ul> <li>Rationale: WooCommerce core limitations prevent access to bundle data structures; custom logic required to parse bundle relationships and calculate 50% proration</li> <li>Phase 1 Workaround: All orders with bundles/free items route to manual CX refund processing (BR-26)</li> <li>Future Phase Value: Reduces CX workload, improves customer experience, enables automated refunds for bundle orders &lt;$600</li> </ul>"},{"location":"phase-2-backlog.html#implementation-approach","title":"Implementation Approach","text":"<p>Phase 1 Foundation (Current): - Core return flows (mattresses, furniture, accessories) - Warranty claim processing - Vendor portal access for donation/pickup partners (6\u201310 vendors) with secure authentication - Third-party vendor pickup logistics via vendor-specific links (TSC, EQ3, Costco) - Manual bundle refund processing by CX</p> <p>Future Phase Enhancements (This Backlog): - WooCommerce bundle API integration - Automated bundle proration engine</p>"},{"location":"phase-2-backlog.html#business-continuity","title":"Business Continuity","text":"<p>All deferred features have Phase 1 manual workarounds to ensure zero disruption to customer service:</p> <ul> <li>Bundle Refunds: CX team manually calculates proration and processes refunds</li> </ul>"},{"location":"phase-2-backlog.html#quick-reference","title":"Quick Reference","text":"<ul> <li>Total Features Deferred: 2 (Future Phase: Bundles, Limits)</li> <li>Functional Requirements: 3 (FR-9, FR-10, FR-HIST-1)</li> <li>User Stories: 3 (from Epics 4)</li> <li>Business Rules: 2 (BR-15, BR-26)</li> <li>Workflow Nodes: 4+ (WF-070-073)</li> </ul> <p>[!IMPORTANT] Last Updated: 2026-02-18 All items below were systematically extracted from active BRD documents to focus Phase 1 delivery.</p>"},{"location":"phase-2-backlog.html#1-future-phase-refund-logic-bundle-impact-calculations","title":"1. Future Phase Refund Logic (Bundle Impact Calculations)","text":""},{"location":"phase-2-backlog.html#rationale-for-deferral","title":"Rationale for Deferral","text":"<p>Due to WooCommerce core limitations regarding bundle structures, implementing automated bundle impact calculations requires custom logic to correctly identify bundled items and apply proration. Standard Claimlane/WooCommerce plugins do not support this out-of-the-box. There are too many technical limitations to accommodate this in Phase 1.</p>"},{"location":"phase-2-backlog.html#functional-requirements","title":"Functional Requirements","text":"<p>Canonical text for FR-9 and FR-23 lives in <code>functional-requirements.md</code>. Below are Phase 2-specific notes only.</p> <ul> <li>FR-9 \u2014 Bundles Handling: Custom implementation to parse WooCommerce bundle data and calculate 50% proration. STATUS: Deferred to Phase 2.</li> <li>FR-23 \u2014 Refund Processing (Bundle Component): Bundle auto-refund capability requires WF-070-073 implementation. STATUS: Manual processing remains in Phase 1. Bundle auto-refund deferred to Phase 2.</li> </ul>"},{"location":"phase-2-backlog.html#user-stories","title":"User Stories","text":"<p>Canonical versions of these stories live in <code>epics-user-stories.md</code> (Epic 4 and Epic 10). Below are Phase 2-specific status notes only.</p> <ul> <li>US-4.1 \u2014 Apply Bundle Eligibility Rules. STATUS: Deferred to Phase 2.</li> <li>US-4.2 \u2014 Free / Bundled Item \"Keep at Discount\" Option. STATUS: Deferred to Phase 2.</li> <li>US-10.1 \u2014 Auto vs Manual Refund Thresholds (Bundle component: WF-070-073 calculation logic). STATUS: Bundle calculation logic deferred to Phase 2.</li> </ul>"},{"location":"phase-2-backlog.html#business-rules","title":"Business Rules","text":"<p>Canonical rule text lives in <code>business-rules.md</code>. Below are Phase 2-specific status notes only.</p> <ul> <li>BR-15 \u2014 Bundle / Free Item 50% Keep Rule. Requires custom WooCommerce integration. STATUS: Deferred to Phase 2.</li> <li>BR-26 \u2014 Auto-Refund Bundle Exclusion. STATUS: Kept in Phase 1 as a constraint. Auto-refund capability for bundles deferred to Phase 2.</li> </ul>"},{"location":"phase-2-backlog.html#process-narratives","title":"Process Narratives","text":"<p>Full narrative for Refund Processing lives in <code>process-high-level.md</code>, Section 13.</p> <p>Phase 2 addition \u2014 Bundle Impact Calculations (WF-070-073): - System calculates bundle impacts and adjusted refundable amounts - Accounts for 50% proration of bundled/free items customer keeps - If post-bundle value &lt; $600: Auto-refund (WF-071-072) - If post-bundle value &gt;= $600: Manual CX processing (WF-071-073)</p>"},{"location":"phase-2-backlog.html#scope-impact","title":"Scope Impact","text":""},{"location":"phase-2-backlog.html#technical-constraints-added-to-phase-1","title":"Technical Constraints Added to Phase 1","text":"<ul> <li>Orders with bundles or free items MUST route to manual refund processing</li> <li>Auto-refund threshold (&lt;$600) applies ONLY to non-bundle orders</li> <li>Bundle detection logic required but proration calculation deferred</li> </ul>"},{"location":"phase-2-backlog.html#dependencies-risks","title":"Dependencies &amp; Risks","text":""},{"location":"phase-2-backlog.html#dependencies","title":"Dependencies","text":"<ul> <li>WooCommerce bundle data structure analysis and mapping</li> <li>Custom API integration to parse bundle relationships</li> <li>Proration calculation engine development</li> <li>Testing across all bundle types (mattress+pillow, duvet+pillow, gift-with-purchase)</li> <li>Business approval of proration rules and edge cases</li> </ul>"},{"location":"phase-2-backlog.html#risks","title":"Risks","text":"<ul> <li>WooCommerce Limitations: Platform may not expose sufficient bundle metadata via API</li> <li>Edge Cases: Complex bundle scenarios (multi-tier bundles, partial returns) may be unhandled</li> <li>Testing Complexity: Combinatorial explosion of bundle configurations</li> <li>Performance Impact: Bundle calculation may slow down refund processing</li> <li>Data Integrity: Incorrect proration could result in over-refunds or under-refunds</li> </ul>"},{"location":"phase-2-backlog.html#2-return-quantity-limits-historical-per-request","title":"2. Return Quantity Limits (Historical &amp; Per-Request)","text":""},{"location":"phase-2-backlog.html#rationale-for-deferral_1","title":"Rationale for Deferral","text":"<p>The original requirement included a limit on the number of returns a customer could make for the same product type \u2014 both within a single request (max 2 units) and historically (lifetime limit). To reduce Phase 1 complexity and allow for broader return policies initially, this restriction has been moved to Future Phase. The system will currently allow customers to select items up to the purchased quantity without these specific blocks.</p>"},{"location":"phase-2-backlog.html#functional-requirements_1","title":"Functional Requirements","text":""},{"location":"phase-2-backlog.html#fr-10-restriction-component-quantity-limit-exceeded","title":"FR-10 (Restriction Component) \u2013 Quantity Limit Exceeded","text":"<ul> <li>ID: (Extracted from FR-10)</li> <li>Description: Prevent selection of more than two units of the same product type with a soft warning and flag the ticket for \"Quantity Limit Exceeded\" if over the limit.</li> <li>Priority: Phase 2</li> <li>Dependencies: Order history checks, logic to sum quantity across current and past returns</li> </ul>"},{"location":"phase-2-backlog.html#fr-hist-1-historical-return-limit","title":"FR-HIST-1 \u2013 Historical Return Limit","text":"<ul> <li>ID: (New Requirement derived from business rule discussions)</li> <li>Description: \"Do not allow more than 1 return of the same product type throughout the client's history.\"</li> <li>Priority: Phase 2</li> <li>Dependencies: Customer profile history, global return aggregation</li> </ul>"},{"location":"phase-2-backlog.html#business-rules_1","title":"Business Rules","text":"<ul> <li>BR-4 \u2014 Maximum Quantity: A maximum of two units per product type may be returned in a single request; selecting more triggers a soft warning and admin flag. STATUS: Deferred to Phase 2.</li> </ul>"},{"location":"phase-2-backlog.html#appendices-deferred-content","title":"Appendices \u2014 Deferred Content","text":""},{"location":"phase-2-backlog.html#appendix-d4-bundles-eligibility-rules","title":"Appendix D.4 \u2014 Bundles Eligibility Rules","text":"<p>Also documented in <code>appendices.md</code>, Section D.4.</p> Scenario Eligibility Notes Full bundle return Eligible Refund full bundle price Returning single pillow (from bundle) Eligible Prorated refund Returning duvet only Eligible Prorated refund Free sleep bundle gift Must return gift Or deduct gift value <p>STATUS: Deferred to Future Phase</p>"},{"location":"phase-2-backlog.html#changelog-impact","title":"Changelog Impact","text":""},{"location":"phase-2-backlog.html#extraction-log-2026-02-03","title":"Extraction Log \u2014 2026-02-03","text":"<p>Batch 3: Deep Scope Refinement (Phase 2 Move)</p> <p>Performed comprehensive \"Deep Extraction\" of Phase 2 features from active BRD documents:</p>"},{"location":"phase-2-backlog.html#features-moved-to-phase-2-backlog","title":"Features Moved to Phase 2 Backlog:","text":"<ol> <li>~~Vendors (Donation / Pickup Partners)~~ \u2014 Restored to Phase 1 on 2026-02-18 (only 6\u201310 vendors; manageable scope)</li> <li>~~Third-Party Vendor Integration~~ \u2014 Restored to Phase 1 on 2026-02-18 (simplified link-based flow with T&amp;C gate; no vendor approval workflow needed)</li> <li>Phase 2 Refund Logic \u2014 Bundle impact calculations (WF-070-073)</li> </ol>"},{"location":"phase-2-backlog.html#review-notes","title":"Review Notes:","text":"<ul> <li>Self-donate fallback (WF-130) kept in Phase 1</li> <li>Vendor portal access restored to Phase 1 (2026-02-18) \u2014 limited vendor count (6\u201310) makes scope manageable</li> <li>Bundle exclusion constraint (BR-26) kept in Phase 1 to force manual refunds</li> <li>Third-party vendor integration restored to Phase 1 (2026-02-18) \u2014 simplified to vendor-initiated link-based flow with T&amp;C gate, no vendor approval workflow needed</li> </ul>"},{"location":"phase-2-backlog.html#discussion","title":"Discussion","text":"<p>Comments for this page are available in Giscus. Once Giscus is configured, the discussion thread for this page will appear here.</p>"},{"location":"process-high-level.html","title":"High Level Process Flow","text":""},{"location":"process-high-level.html#narrative-steps","title":"Narrative Steps","text":"<ol> <li> <p>Purchase Channel Selection (WF-001) \u2013 Customer selects where they purchased:</p> <ul> <li>Silk &amp; Snow Online \u2013 CA (WF-002) \u2013 WooCommerce online orders</li> <li>Silk &amp; Snow Online \u2013 US (WF-094) \u2013 WooCommerce online orders (visible to US customers only, if possible)</li> <li>Silk &amp; Snow Retail Store (WF-003) \u2013 In-person purchase</li> <li>Sleep Country Retail Store \u2013 In-person purchase</li> <li>Third-Party Vendor (WF-004) \u2013 TSC, EQ3, or Costco</li> </ul> <p>Retail Store Routing (WF-018 \u2192 WF-022)</p> <p>Channel selection determines routing directly \u2014 no backend store lookup is performed:</p> <ul> <li>Silk &amp; Snow Retail Store: Routes customer into the WooCommerce online order flow (WooCommerce Online + Shopify POS orders).</li> <li>Sleep Country Retail Store: Displays message (WF-021): \"This return cannot be processed through this portal. Please call the Sleep Country Customer Service team for further instructions.\" Flow ends (WF-022).</li> </ul> </li> <li> <p>Customer Intent Selection (WF-023/096) \u2013 Customer chooses the type of assistance needed:</p> <ul> <li>Return (WF-024/097)</li> <li>Warranty claim (WF-025/098)</li> </ul> <p>The flow branches accordingly into either the Return or Warranty workflow.</p> </li> <li> <p>Order Lookup &amp; Validation (WF-026/099/042 \u2192 WF-028/101/044) </p> <p>Customer enters order number and email (WF-026/099/042). The system validates against WooCommerce records (WF-027/100/043).</p> <p>Validation Outcomes:</p> <ul> <li>Success: Proceed to display order items</li> <li>Failure (WF-028/101/044): Display error message \u2014 \"For orders purchased in store, an email may not have been provided.\" Customer may retry with corrected details.</li> </ul> </li> <li> <p>Display Order Items &amp; Eligibility (WF-029/102) </p> <p>All items in the order are displayed with variant image and eligibility status. Eligibility is computed using:</p> <ul> <li>Product category</li> <li>Return window</li> <li>Trial length</li> <li>Final sale rules</li> <li>Purchase channel</li> <li>Delivered date</li> </ul> </li> <li> <p>Item Selection (WF-030/103) </p> <p>Customer selects one or more eligible items to return. Minimum of one item required.</p> <p>[!WARNING] Bundle / Free Item Promotion (Future Phase): If the item is part of a bundle or free item promotion, the customer can keep bundled/free items at 50% of full website price; the refund is adjusted accordingly.</p> <p>Technical Implementation Note: Due to WooCommerce core limitations regarding bundle structures, this step requires custom logic to correctly identify bundled items and apply the 50% proration logic. Standard Claimlane/WooCommerce plugins do not support this out-of-the-box.</p> </li> <li> <p>Reason Selection (WF-038/105) </p> <p>Customer chooses a return reason for each selected item. Reasons map to WooCommerce refund categories.</p> <p>Defective Routing Logic:</p> <ul> <li>If customer selects \"Defective\" as reason AND does not opt out of product replacement \u2192 Automatically redirect to Warranty claim workflow (bypasses standard return logistics)</li> </ul> </li> <li> <p>Documentation Upload </p> <p>For damage claims, defective items, and certain return types, customers must upload required documentation:</p> <ul> <li>Photos of damage/defect</li> <li>Law tags (for mattresses)</li> <li>Measurements (if applicable)</li> <li>Receipt (for third-party claims)</li> </ul> </li> </ol>"},{"location":"process-high-level.html#flow-split-returns-vs-warranty-vs-third-party","title":"Flow Split: Returns vs. Warranty vs. Third-Party","text":"<p>At this point, the workflow branches into three distinct paths based on the claim type:</p>"},{"location":"process-high-level.html#a-return-flow-wf-038105-onward","title":"A. RETURN FLOW (WF-038/105 onward)","text":""},{"location":"process-high-level.html#8-product-type-routing-wf-038105","title":"8. Product Type Routing (WF-038/105)","text":"<p>The return flow splits based on item type and region:</p>"},{"location":"process-high-level.html#8a-mattress-returns","title":"8A. Mattress Returns","text":"<p>Boxed Mattresses (WF-039 \u2192 WF-062A \u2192 WF-077A):</p> <ol> <li>Customer confirms mattress is boxed (WF-039)</li> <li>Collect photo of the box (WF-061A)</li> <li>Provide return label and drop-off instructions (WF-062A)</li> <li>Customer ships item</li> <li>Vendor picks up item; Status is auto-updated to \"Picked\" via Courier API (WF-064/063A)</li> </ol> <p>Unboxed Mattresses (WF-039 \u2192 WF-064A \u2192 WF-059/065A):</p> <ol> <li>Customer confirms mattress is unboxed (WF-039)</li> <li>Collect photos, law tag, and condition details (WF-064A)</li> <li>Route to Return Logistics Team (WF-059/065A) for vendor selection</li> <li>See Return Logistics Management section below</li> </ol>"},{"location":"process-high-level.html#8b-furniture-returns-wf-040","title":"8B. Furniture Returns (WF-040)","text":"<p>CA Furniture (WF-040 \u2192 WF-137):</p> <ol> <li>Customer uploads photos and issue details (WF-069A)</li> <li>ClaimLane calls WooCommerce API for carrier quotes (WF-137)<ul> <li>Destination: Always Caledonia warehouse (CA)</li> </ul> </li> <li>Notify customer of shipping charges (WF-073A)<ul> <li>Note: For disposal pickups, the charge displayed is equal to the courier pickup charge (business decision to standardize costs).</li> </ul> </li> <li>Customer Accepts Charges &amp; Submits Ticket (WF-074A):<ul> <li>Customer provides pickup details / access constraints</li> <li>Customer agrees to shipping costs</li> <li>Ticket created in CX Review Queue</li> </ul> </li> <li>CX Review &amp; Approval (WF-070A \u2192 WF-071A):<ul> <li>CX reviews photos and eligibility</li> <li>If declined (WF-072A): Communicate decision to customer \u2192 End</li> <li>If approved:<ul> <li>System auto-generates label and pickup instructions</li> <li>Charge is finalized/processed</li> <li>Item marked as \"Received\" (WF-089) once picked up</li> </ul> </li> </ul> </li> </ol> <p>US Furniture (WF-040 \u2192 WF-138):</p> <ul> <li>Same process as CA furniture, except:</li> <li>Destination: Determined by the Fulfil ERP API (WF-138; see FR-45). The API returns the origin warehouse per SKU. For orders shipped from multiple warehouses, the system uses the closest warehouse to the customer's shipping address (LA \u2013 JDLLA or NJ \u2013 JDLNJ).</li> </ul>"},{"location":"process-high-level.html#8c-accessory-bedding-returns","title":"8C. Accessory &amp; Bedding Returns","text":"<p>CA Accessories (Opened or Unopened) (WF-041):</p> <ol> <li>Collect return reason and photos (WF-076A)</li> <li>Provide mail-in return label and instructions (WF-077A)</li> <li>Customer ships item (WF-078A)</li> <li>Item marked as \"Received\" (WF-089)</li> </ol> <p>US Accessories \u2014 Unopened (WF-115):</p> <ol> <li>Generate return label (WF-111)</li> <li>Customer ships item</li> <li>Item marked as \"Received\" (WF-089)</li> </ol> <p>US Accessories \u2014 Opened (WF-115 \u2192 WF-117):</p> <ol> <li>Present Option 1 (WF-117): \"Keep item for 50% refund (no proof required)\"<ul> <li>If accepted (WF-118): Process 50% refund \u2192 Customer keeps item \u2192 Return complete \u2192 End</li> <li>If rejected: Generate Customer Care ticket \u2192 CX contacts customer offline to encourage Option 2 (donate for 100% refund) \u2192 End</li> </ul> </li> </ol>"},{"location":"process-high-level.html#9-return-logistics-management-wf-059065a-wf-064063a","title":"9. Return Logistics Management (WF-059/065A \u2192 WF-064/063A)","text":"<p>For unboxed mattresses, oversized items, and items requiring disposal pickup, the Return Logistics Team manages vendor coordination:</p> <ol> <li>Vendor Selection (WF-059/065A):<ul> <li>Return Logistics Manager manually selects a donation or pickup vendor</li> <li>Photos are NOT sent to vendors for unboxed mattresses</li> </ul> </li> <li>Vendor Assignment Outcomes:<ul> <li>Vendor Selected: Trigger emails to vendor and customer (WF-061/066)</li> <li>No Vendor Available (Self-Donation): Manger selects \"Self-Donation\" (WF-130)</li> </ul> </li> <li>Vendor Change Management (WF-062/067A):<ul> <li>If vendor needs to be changed (WF-062/067A \u2192 WF-063/068A):<ul> <li>Select new vendor</li> <li>Trigger updated email notifications to new vendor and customer</li> </ul> </li> </ul> </li> <li>Pickup Confirmation (WF-064/063A):<ul> <li>Vendor picks up item; Status is auto-updated to \"Picked\" via Courier API</li> </ul> </li> <li>Self-Donation Flow (WF-130 \u2192 WF-132):<ul> <li>When \"Self-Donation\" is selected:<ul> <li>Customer receives specific email instructions</li> <li>Customer donates item themselves and takes photo as proof</li> <li>Customer contacts CX Team (call or email)</li> <li>CX manually processes return in ClaimLane portal (WF-132)</li> </ul> </li> </ul> </li> </ol>"},{"location":"process-high-level.html#b-warranty-claim-flow-wf-052-wf-058","title":"B. WARRANTY CLAIM FLOW (WF-052 \u2192 WF-058)","text":""},{"location":"process-high-level.html#10-warranty-claim-processing","title":"10. Warranty Claim Processing","text":""},{"location":"process-high-level.html#10a-item-replacement-part-selection-wf-052-wf-053","title":"10A. Item &amp; Replacement Part Selection (WF-052 \u2192 WF-053)","text":"<ol> <li> <p>Display Order Items with Replacement Parts (WF-052):</p> <ul> <li>System displays all items in the order</li> <li>Replacement parts shown with product context</li> </ul> <p>[!NOTE] Example \u2013 Nara Wooden Dresser (5-Drawer, Cortado)</p> <p>Parent SKU: SNSFNDR5005T - Drawer \u2013 Top Left | SNSFNDR5005TDRSL - Drawer \u2013 Top Right | SNSFNDR5005TDRSR - Drawer \u2013 Large | SNSFNDR5005TDRB - Screw | SNSFNS5000TSW - Stain &amp; Brush | SNSFNWO5000ACST - Stain &amp; Brush | SNSFNS5000TST</p> </li> <li> <p>Customer Selects Item or Replacement Part (WF-053):</p> <ul> <li>Customer chooses the defective product or specific sub-part (e.g., drawer, screw)</li> </ul> </li> </ol>"},{"location":"process-high-level.html#10b-documentation-submission-wf-054-wf-055","title":"10B. Documentation &amp; Submission (WF-054 \u2192 WF-055)","text":"<ol> <li>Collect Additional Information (WF-054):<ul> <li>Issue description</li> <li>Photos of defect</li> <li>Address confirmation</li> </ul> </li> <li>Submit Warranty Case (WF-055):<ul> <li>Case submitted to ClaimLane with selected part SKUs, evidence, and notes</li> </ul> </li> </ol>"},{"location":"process-high-level.html#10c-cx-review-approval-wf-052b-wf-052d","title":"10C. CX Review &amp; Approval (WF-052B \u2192 WF-052D)","text":"<ol> <li>CX Reviews Submission (WF-052B):<ul> <li>CX team validates photos and part selection</li> <li>If the customer did not select a part, or selected an incorrect part, CX has the option to override the part selection before proceeding</li> </ul> </li> <li>CX Approval Decision (WF-052C):<ul> <li>Declined (WF-052D): Communicate decline and next steps to customer \u2192 End</li> <li>Approved: Proceed to pickup logic</li> </ul> </li> </ol>"},{"location":"process-high-level.html#10d-pickup-assistance-wf-052f-wf-052i","title":"10D. Pickup Assistance (WF-052F \u2192 WF-052I)","text":"<p>[!NOTE] Pickup assistance is not presented to the customer during submission. The CX team may add pickup assistance as a follow-on action if the customer calls in to request it.</p> <ol> <li>CX Pickup Assistance Decision (WF-052F):<ul> <li>Default assumption: customer does not require pickup assistance \u2192 proceed to replacement order placement (WF-056)</li> <li>If customer calls CX to request assistance: CX adds pickup assistance to the case \u2192 proceed to pickup type selection</li> </ul> </li> <li>Pickup Type Selection (WF-052H):<ul> <li>Courier Pickup (WF-052G):<ul> <li>CX provides pickup assistance (coordination + guidance)</li> <li>Generate return label with \"Defective\" wording (helps warehouse avoid inspection)</li> </ul> </li> <li>Disposal Pickup (WF-052I):<ul> <li>Log case for Return Logistics Team (routes to WF-059/065A vendor selection)</li> </ul> </li> </ul> </li> </ol>"},{"location":"process-high-level.html#10e-replacement-order-closure-wf-056-wf-058","title":"10E. Replacement Order &amp; Closure (WF-056 \u2192 WF-058)","text":"<ol> <li>CX Places Replacement Order (WF-056):<ul> <li>CX creates replacement order in WooCommerce using approved replacement part SKUs</li> </ul> </li> <li>Close Case (WF-058):<ul> <li>Case marked complete after replacement order is placed</li> </ul> </li> </ol>"},{"location":"process-high-level.html#c-third-party-vendor-flow-wf-004-wf-017","title":"C. THIRD-PARTY VENDOR FLOW (WF-004 \u2192 WF-017)","text":""},{"location":"process-high-level.html#11-third-party-vendor-returns-tsc-eq3-costco","title":"11. Third-Party Vendor Returns (TSC, EQ3, Costco)","text":"<p>Third-party vendor returns use a vendor-initiated link-based flow. The vendor verifies the customer's order externally, then shares a generic ClaimLane link with the customer to arrange pickup logistics. No refund is issued by Silk &amp; Snow \u2014 the refund is the sole responsibility of the third-party vendor (see BR-1).</p>"},{"location":"process-high-level.html#11a-vendor-initiated-entry-wf-004-wf-005","title":"11A. Vendor-Initiated Entry (WF-004 \u2192 WF-005)","text":"<ol> <li>Customer Contacts Third-Party Vendor:<ul> <li>Customer contacts TSC, EQ3, or Costco about a return</li> <li>Vendor verifies order details and eligibility externally (outside ClaimLane)</li> </ul> </li> <li>Vendor Shares ClaimLane Link (WF-004):<ul> <li>Vendor shares their dedicated generic ClaimLane link with the customer</li> <li>Each vendor (TSC, EQ3, Costco) has a unique link URL that identifies the vendor</li> <li>The link is not unique to the customer (same link shared with all customers of that vendor)</li> </ul> </li> </ol>"},{"location":"process-high-level.html#11b-terms-conditions-gate-wf-005-wf-006","title":"11B. Terms &amp; Conditions Gate (WF-005 \u2192 WF-006)","text":"<ol> <li>Customer Opens Link \u2014 T&amp;C Page (WF-005):<ul> <li>The link opens a Terms &amp; Conditions page (security gate for non-unique links)</li> <li>T&amp;C clearly states:<ul> <li>No refund will be issued by Silk &amp; Snow \u2014 refund is the responsibility of the third-party vendor</li> <li>The return is not authorized by the third-party partner \u2014 Silk &amp; Snow facilitates pickup logistics only</li> </ul> </li> <li>Customer must explicitly accept T&amp;C (checkbox + confirm) to proceed</li> <li>If customer declines \u2192 flow ends with message directing them back to vendor</li> </ul> </li> </ol>"},{"location":"process-high-level.html#11c-pickup-details-ticket-creation-wf-006-wf-008","title":"11C. Pickup Details &amp; Ticket Creation (WF-006 \u2192 WF-008)","text":"<ol> <li>Collect Pickup Details (WF-006):<ul> <li>Pickup address / location</li> <li>Access constraints (elevator, stairs, gate codes, etc.)</li> <li>Preferred pickup dates</li> <li>Photos of item (condition documentation)</li> <li>Contact information for pickup coordination</li> </ul> </li> <li>Create ClaimLane Ticket (WF-007 \u2192 WF-008):<ul> <li>Ticket tagged with third-party vendor name</li> <li>Costco orders: Ticket created for tracking only \u2014 no pickup assistance required. Flow ends (WF-060)</li> <li>TSC / EQ3 orders: Proceed to pickup logistics</li> </ul> </li> </ol>"},{"location":"process-high-level.html#11d-pickup-logistics-tsc-eq3-only-wf-011-wf-014","title":"11D. Pickup Logistics \u2014 TSC &amp; EQ3 Only (WF-011 \u2192 WF-014)","text":"<ol> <li>Pickup Type Selection (WF-011A):<ul> <li>Courier Pickup (WF-012):<ul> <li>CX provides pickup assistance (coordination + guidance)</li> <li>Generate return label</li> </ul> </li> <li>Disposal Pickup (WF-011B):<ul> <li>Log for Return Logistics Team (routes to WF-059/065A vendor selection)</li> </ul> </li> </ul> </li> <li>Pickup Confirmed/Scheduled (WF-014):<ul> <li>Pickup arranged and confirmed with customer</li> </ul> </li> <li>Item Collected (WF-015):<ul> <li>Confirm collection of item</li> <li>Notify vendor that item has been collected</li> <li>Case closed (WF-060)</li> </ul> </li> </ol>"},{"location":"process-high-level.html#d-shared-backend-processes","title":"D. SHARED BACKEND PROCESSES","text":""},{"location":"process-high-level.html#12-ticket-creation","title":"12. Ticket Creation","text":"<p>The ClaimLane ticket stores all claim details: - Customer information - Selected items and SKUs - Return/warranty reason - Uploaded documentation - Pickup/shipping details - Vendor assignments (if applicable)</p> <p>Duplicate Prevention: System prevents duplicate ticket creation for the same order and items.</p>"},{"location":"process-high-level.html#13-refund-processing-wf-066b-wf-074","title":"13. Refund Processing (WF-066B \u2192 WF-074)","text":"<p>Once an item is marked as \"Received\" (WF-089), the refund logic is determined by order value, bundle status, and phase:</p>"},{"location":"process-high-level.html#phase-1-refund-logic-current-state","title":"Phase 1 Refund Logic (Current State)","text":"<p>Automatic Refund Eligibility (WF-067 \u2192 WF-068):</p> <ul> <li> <p>Conditions: Net refund value &lt; $600 AND order contains NO bundles or free items</p> </li> <li> <p>Action: Auto-initiate refund (if payment gateway supported)</p> </li> </ul> <p>Manual Refund Triggers (WF-067 \u2192 WF-069):</p> <ul> <li> <p>Conditions: Net refund value \u2265 $600 OR order contains bundles/free items</p> </li> <li> <p>Action: Route to CX for manual processing</p> </li> </ul> <p>[!WARNING] WF-074 Technical Limitation: We cannot implement auto-refunds when bundles or free items are involved until we fix WooCommerce, which is currently restricting ClaimLane's data access to bundle structures.</p>"},{"location":"process-high-level.html#future-phase-refund-logic-future-state","title":"Future Phase Refund Logic (Future State)","text":"<p>Bundle Impact Calculation (WF-070):</p> <ul> <li>System calculates bundle impacts and adjusted refundable amounts</li> <li>Accounts for 50% proration of bundled/free items customer keeps</li> </ul> <p>Auto-Refund After Bundle Calculation (WF-071 \u2192 WF-072):</p> <ul> <li>If post-bundle calculation value &lt; $600: Auto-refund</li> </ul> <p>Manual Refund After Bundle Calculation (WF-071 \u2192 WF-073):</p> <ul> <li>If post-bundle calculation value \u2265 $600: Manual CX processing</li> </ul>"},{"location":"process-high-level.html#14-warehouse-processing-inventory-reconciliation","title":"14. Warehouse Processing &amp; Inventory Reconciliation","text":""},{"location":"process-high-level.html#ca-warehouse-caledonia-direct-portal-access-wf-090-wf-093","title":"CA Warehouse (Caledonia) \u2013 Direct Portal Access (WF-090 \u2192 WF-093)","text":"<ol> <li>Return Delivered to Caledonia (WF-090)</li> <li>Caledonia Team Updates Status (WF-091):<ul> <li>Team has limited-access portal role</li> <li>Updates status directly in ClaimLane portal (WF-092)</li> <li>At Inspection Completed step, team selects an Inspection Grade from a mandatory dropdown:<ul> <li>Grade A \u2013 Resalable</li> <li>Grade B \u2013 Donatable</li> <li>Grade C \u2013 Damaged</li> <li>Reason code is mandatory for all grades</li> </ul> </li> <li>Status transition: Delivered \u2192 Processing \u2192 Inspection Completed</li> </ul> </li> <li>Store Ops Inventory Update (WF-093):<ul> <li>Store Ops team runs \"Returned items\" report from portal</li> <li>Report used to update inventory and reconcile returned goods</li> </ul> </li> </ol>"},{"location":"process-high-level.html#us-warehouse-la-nj-offline-email-based-process-wf-133-wf-136","title":"US Warehouse (LA / NJ) \u2013 Offline Email-Based Process (WF-133 \u2192 WF-136)","text":"<ol> <li>Return Delivered to US Warehouse (WF-133)<ul> <li>Item arrives at Los Angeles or New Jersey warehouse</li> </ul> </li> <li>US Warehouse Emails Status (WF-134):<ul> <li>US warehouse team has NO direct portal access</li> <li>Team emails return status updates to Internal Ops team (offline to ClaimLane)</li> </ul> </li> <li>Internal Ops Updates Portal (WF-135):<ul> <li>Internal Ops team manually updates ClaimLane portal</li> <li>Status transition: Delivered \u2192 Processing \u2192 Inspection Completed</li> </ul> </li> <li>Internal Ops Inventory Update (WF-136):<ul> <li>Internal Ops runs \"Returned items\" report</li> <li>Report used for US inventory reconciliation</li> </ul> </li> </ol> <p>[!IMPORTANT] Key Difference: US warehouse teams operate completely offline from the ClaimLane portal. All status updates require Internal Ops intermediary via email communication.</p>"},{"location":"process-high-level.html#discussion","title":"Discussion","text":""},{"location":"scope.html","title":"Scope","text":""},{"location":"scope.html#in-scope","title":"In Scope","text":""},{"location":"scope.html#in-scope-processes","title":"In-Scope Processes","text":"<ul> <li>Customer flows: online order returns (silkandsnow.com/.ca), retail Shopify orders, POS purchases (within store rules), warranty claims for all products.</li> <li>Replacement orders for warranty claims.</li> <li>Return label generation (where allowed).</li> <li>Documentation capture.</li> <li>Automated refunds (where supported).</li> <li>Claimlane ticket creation and tagging.</li> <li>Customer communications.</li> <li>Return Logisitcs Vendor Communication.</li> <li>Report Generation.</li> <li>Multi-language capability (French and English).</li> <li> <p>Automatic defective reason routing to warranty flow with customer opt-out mechanism.</p> </li> <li> <p>US accessory return cost optimization: 50% keep offer automated via ClaimLane; 100% donate offer (with proof) handled manually by the CX team.</p> </li> <li> <p>Self-donation fallback for unboxed mattresses when vendor unavailable.</p> </li> <li> <p>Offline US warehouse status updates via Internal Ops team (LA/NJ warehouses).</p> </li> <li> <p>Region-specific furniture return logistics (CA - Caledonia warehouse, US - Original shipping warehouse).</p> </li> <li> <p>Warranty and third-party pickup logistics splits (courier vs. disposal).</p> </li> <li>Third-party vendor link-based entry (TSC, EQ3, Costco) with Terms &amp; Conditions gate and pickup logistics coordination. No S&amp;S refund \u2014 vendor handles refunds.</li> <li>Product onboarding via Excel upload and product removal (MVP); future state: direct sync with WooCommerce and external catalogues.</li> </ul>"},{"location":"scope.html#product-categories","title":"Product Categories","text":"<ul> <li>Mattresses.</li> <li>Furniture<ul> <li>Bed frames and furniture.</li> </ul> </li> <li>Accessories<ul> <li>Bedding (duvets, sheets, pillowcases, pillows).</li> <li>Bath items (towels, robes, bath mats).</li> <li>Weighted blankets.</li> <li>Toppers.</li> </ul> </li> </ul>"},{"location":"scope.html#regions","title":"Regions","text":"<ul> <li>Canada.</li> <li>United States.</li> </ul>"},{"location":"scope.html#channels","title":"Channels","text":"<ul> <li>Web (.com and .ca).</li> <li>Shopify POS store orders.</li> <li>Sleep Country Retail Store orders (in-store return only; portal displays message directing customer to Sleep Country Customer Service).</li> <li>Third-party channel orders.</li> </ul>"},{"location":"scope.html#systems-apis","title":"Systems / APIs","text":"<ul> <li>WooCommerce API for calculating shipping rates.</li> <li>EasyPost API for label generation (furniture, accessories).</li> <li>Fulfil ERP API for determining origin warehouse per SKU and closest return warehouse for US orders.</li> </ul>"},{"location":"scope.html#out-of-scope","title":"Out of Scope","text":""},{"location":"scope.html#discussion","title":"Discussion","text":""}]}