{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"index.html","title":"Home","text":""},{"location":"index.html#discussion","title":"Discussion","text":"<p>\ud83d\udcac Comments for this page are available in Giscus. Once Giscus is configured, the discussion thread for this page will appear here.</p>"},{"location":"01-README.html","title":"How to Use This BRD","text":""},{"location":"01-README.html#purpose","title":"Purpose","text":"<p>This Business Requirements Document - Claimlane Returns, Refunds and Warranty Portal - defines how Silk &amp; Snow will replace an ad-hoc email-based returns and warranty process with a guided self-service portal. It describes the portal's objectives, scope, actors, high-level flows, functional and non-functional requirements, business rules, constraints, dependencies, risks, assumptions, epics, user stories and identified gaps.</p>"},{"location":"01-README.html#document-structure","title":"Document Structure","text":"<ul> <li><code>02-overview-purpose.md</code> - Business overview and objectives.</li> <li><code>03-scope.md</code> - In-scope and out-of-scope processes, products, regions and channels.</li> <li><code>04-actors.md</code> - Key actors and their roles in the returns and claims process.</li> <li><code>05-process-high-level.md</code> - Narrative of the end-to-end high-level process.</li> <li><code>06-functional-requirements.md</code> - Detailed functional requirements (FR-x) by area.</li> <li><code>07-non-functional-requirements.md</code> - Non-functional requirements (NFR-x).</li> <li><code>08-business-rules.md</code> - Business rules (BR-x, A-1, B-1) enforced by the portal.</li> <li><code>09-constraints-assumptions.md</code> - Key constraints and assumptions.</li> <li><code>10-dependencies.md</code> - Upstream and downstream dependencies and integrations.</li> <li><code>11-risks-mitigation.md</code> - Identified risks and associated mitigation actions.</li> <li><code>12-open-questions.md</code> - Open questions requiring Silk &amp; Snow decisions.</li> <li><code>13-epics-user-stories.md</code> - Epics, features, user stories and acceptance criteria.</li> <li><code>14-gaps-conflicts.md</code> - Identified gaps and potential conflicts.</li> </ul>"},{"location":"01-README.html#audience-hints","title":"Audience Hints","text":"Role Key Files To Read Business stakeholders 02-overview-purpose.md, 03-scope.md, 05-process-high-level.md, 08-business-rules.md CX / CS / Ops 05-process-high-level.md, 06-functional-requirements.md, 08-business-rules.md, 13-epics-user-stories.md QA and testers 06-functional-requirements.md, 07-non-functional-requirements.md, 08-business-rules.md, 13-epics-user-stories.md, 14-gaps-conflicts.md Technical teams 06-functional-requirements.md, 07-non-functional-requirements.md, 09-constraints-assumptions.md, 10-dependencies.md, 11-risks-mitigation.md"},{"location":"01-README.html#discussion","title":"Discussion","text":"<p>\ud83d\udcac Comments for this page are available in Giscus. Once Giscus is configured, the discussion thread for this page will appear here.</p>"},{"location":"02-overview-purpose.html","title":"Overview and Purpose","text":"<p>Silk &amp; Snow aims to replace an ad-hoc email-based return and warranty process with Claimlane, a guided self-service portal covering returns, replacements and warranty claims.</p> <p>The portal must enforce trial, return, warranty and refund policies consistently while reducing customer-service workload through automation.</p> <p>This document consolidates the requirements extracted from the provided BRD, return reason mappings, warranty/return policy tables and testing worksheet. It identifies functional and non-functional requirements, business rules, constraints, dependencies, risks, assumptions, epics, user stories and acceptance criteria, and highlights gaps or ambiguities.</p>"},{"location":"02-overview-purpose.html#objectives","title":"Objectives","text":"<ul> <li>Provide a self-service portal that guides customers through returns, warranty claims and replacements.</li> <li>Automate eligibility checks, document collection, refund processing and replacement order creation where supported.</li> <li>Reduce label and documentation errors and prevent incorrect returns.</li> <li>Deliver structured data for defect analytics, lot tracking, vendor and customer-service reporting.</li> <li>Ensure a consistent, policy-driven customer experience across Canada and the United States.</li> </ul>"},{"location":"02-overview-purpose.html#discussion","title":"Discussion","text":"<p>\ud83d\udcac Comments for this page are available in Giscus. Once Giscus is configured, the discussion thread for this page will appear here.</p>"},{"location":"03-scope.html","title":"Scope","text":""},{"location":"03-scope.html#in-scope","title":"In Scope","text":""},{"location":"03-scope.html#in-scope-processes","title":"In-Scope Processes","text":"<ul> <li>Customer flows: online order returns (silkandsnow.com/.ca), retail Shopify orders, POS purchases (within store rules), warranty claims for all products.</li> <li>Replacement orders for warranty claims.</li> <li>Return label generation (where allowed).</li> <li>Documentation capture.</li> <li>Automated refunds (where supported).</li> <li>Claimlane ticket creation and tagging.</li> <li>Customer communications.</li> </ul>"},{"location":"03-scope.html#product-categories","title":"Product Categories","text":"<ul> <li>Mattresses.</li> <li>Toppers.</li> <li>Bed frames and furniture.</li> <li>Bedding (duvets, sheets, pillowcases, pillows).</li> <li>Bath items (towels, robes, bath mats).</li> <li>Weighted blankets.</li> <li>Accessories.</li> <li>Custom products as specified.</li> </ul>"},{"location":"03-scope.html#regions","title":"Regions","text":"<ul> <li>Canada.</li> <li>United States.</li> </ul>"},{"location":"03-scope.html#channels","title":"Channels","text":"<ul> <li>Web (.com and .ca).</li> <li>Shopify store orders.</li> <li>POS orders.</li> <li>Third-party vendor purchases (guidance only).</li> </ul>"},{"location":"03-scope.html#out-of-scope","title":"Out of Scope","text":"<ul> <li>Full automation of POS returns (manual for now).</li> <li>Integration with marketplaces such as Amazon or Wayfair.</li> <li>Support for markets beyond Canada and the United States.</li> <li>Multi-language capability (English only at launch).</li> <li>Fraud or abuse detection systems.</li> <li>Enhanced chatbot functionality beyond linking.</li> </ul>"},{"location":"03-scope.html#discussion","title":"Discussion","text":"<p>\ud83d\udcac Comments for this page are available in Giscus. Once Giscus is configured, the discussion thread for this page will appear here.</p>"},{"location":"04-actors.html","title":"Actors","text":"Actor Description Customer End user initiating a return, refund or warranty claim through the portal. Claimlane Portal The web-based interface guiding the customer through the return/claim process and enforcing rules. WooCommerce System Backend e-commerce platform storing orders, items, inventory and handling refunds/replacements. Shipping Carrier API External services (FedEx, EasyPost, freight providers) used to generate labels or arrange pickups. Customer Service (CS) Agents Users who review claims, override documentation, perform manual refunds or handle exceptions. Retail Store (Shopify POS) Stores whose transactions are recorded in Shopify and can be processed through the portal. Retail Store (STORIS) Non-Shopify stores; returns are handled in person only. Caledonia Warehouse Team Canadian warehouse that receives physical returns and updates item status in the portal using a limited access role. Store Operations (Store Ops) Team that runs \"Returned items\" reports from the portal to update inventory. Return Logistics Team Internal team selecting donation/pickup vendors for unboxed mattresses and managing vendor changes. Vendors (Donation/Pickup Partners) External partners who receive unboxed mattresses or donations and update pickup status in the portal. Marketing Team Stakeholders providing approved copy for portal messaging. Quality Assurance (QA) Testers Validate that portal functionality and rules behave according to requirements."},{"location":"04-actors.html#discussion","title":"Discussion","text":"<p>\ud83d\udcac Comments for this page are available in Giscus. Once Giscus is configured, the discussion thread for this page will appear here.</p>"},{"location":"05-process-high-level.html","title":"High Level Process Flow","text":""},{"location":"05-process-high-level.html#narrative-steps","title":"Narrative Steps","text":""},{"location":"05-process-high-level.html#narrative-steps_1","title":"Narrative Steps","text":"<ol> <li> <p>Purchase Channel Selection \u2013 Customer selects:</p> <ul> <li>Silk &amp; Snow Online \u2013 CA / US (Shopify)</li> <li>Silk &amp; Snow Retail Store (in-person)</li> <li>Third-Party Vendor</li> </ul> <p>For Retail Store selections, the portal uses a store lookup to determine whether the store backend is Shopify POS or STORIS (non-Shopify).</p> <p>Retail Store Backend Handling *   If the selected store is a Shopify POS store, the portal routes the customer into the same Shopify order flow used for online orders (orders in Shopify Online + Shopify POS). *   If the selected store is a STORIS (non-Shopify) store, the portal displays a message that returns for this store must be handled in person and the flow ends (no online processing, no label generation, no ticket).</p> </li> <li> <p>Customer Intent Selection \u2013 The customer chooses to start a return, warranty claim or another return type (if configured). The flow branches accordingly.</p> </li> <li> <p>Order Lookup \u2013 For online orders the customer must enter their email and order number. Both fields must match exactly with the WooCommerce record; otherwise no order details are displayed.</p> </li> <li> <p>Display Order Items &amp; Eligibility \u2013 All items on the order are shown with variant image, colour, category and eligibility status. Eligibility is computed using product category, return window, trial length, final sale rules, channel and delivered date.</p> </li> <li> <p>Item Selection \u2013 The customer selects one or more eligible items. A minimum of one item is required.</p> <ul> <li>Bundle / Free Item Promotion: If the item is part of a bundle or free item promotion, the customer can keep bundled/free items at 50% of full website price; the refund is adjusted accordingly.</li> </ul> </li> <li> <p>Reason Selection \u2013 The customer chooses a reason for each selected item. Return reasons map to WooCommerce refund reasons.</p> </li> <li> <p>Documentation Upload \u2013 For claims and damage returns, customers must provide required documentation (photos, measurements, etc.).</p> </li> <li> <p>Logistics &amp; Labels \u2013 The flow splits based on product type:</p> <ul> <li>Mattress (Boxed): Collect photos/law tag. Provide return label/pickup instructions. Vendor picks up and updates status to 'Picked'.</li> <li>Mattress (Unboxed): Collect condition and donation eligibility. No photos sent to vendor. Return Logistics Manager selects donation/pickup vendor. Vendor change triggers update emails. Vendor picks up and updates status to 'Picked'.</li> <li>Furniture: Two-step process:<ol> <li>Pre-approval: Customer uploads photos/issue details. CX reviews and approves/declines.</li> <li>Logistics: On approval, collect access constraints and pickup dates. Generate label/instructions.</li> </ol> </li> <li>Accessory/Bedding: Single step. Collect reason/photos -&gt; Generate label &amp; mail-in instructions.</li> </ul> </li> <li> <p>Ticket Creation \u2013 The Claimlane ticket stores all details. Duplicate tickets are prevented.</p> </li> <li> <p>Backend Actions \u2013 Upon submission:</p> <ul> <li>Automatic Refund for Low-Value Returns: When \"Received\" and net refund value &lt; 600, auto-initiate refund (if gateway supported).</li> <li>Manual Refund for High-Value Returns: When \"Received\" and net refund value &gt;= 600, route to CX for manual processing.</li> <li>Caledonia Workflow: For Caledonia returns, the team updates status Delivered -&gt; Processing / Inspection Completed. Store Ops runs report for inventory.</li> </ul> </li> </ol>"},{"location":"05-process-high-level.html#visual-process-flow","title":"Visual Process Flow","text":"<pre><code>flowchart TB\n\n    %% ---------------------------------------------------------------------\n    %% CALEDONIA \u2013 BACK-OFFICE RETURNS HANDLING\n    %% ---------------------------------------------------------------------\n    subgraph CALEDONIA[\"Canada returns routed to Caledonia\"]\n        R1[\"Return delivered to Caledonia\"]\n        R2[\"Caledonia team updates return status in portal (limited access role)\"]\n        R4[\"Update status: Delivered \u2192 Processing / Inspection Completed\"]\n        R5[\"Store Ops run 'Returned items' report for inventory update\"]\n    end\n\n    %% ---------------------------------------------------------------------\n    %% ENTRY POINT \u2013 PURCHASE CHANNEL SELECTION\n    %% ---------------------------------------------------------------------\n    A[\"Where did you purchase?\"] \n      --&gt; Online[\"Silk &amp; Snow Online \u2013 CA / US (Shopify)\"] &amp; Retail[\"Silk &amp; Snow Retail Store (in-person)\"] &amp; D[\"Third-party vendor\"]\n\n    %% Third-party vendors\n    D --&gt; D1[\"Follow vendor-specific return / warranty process\"]\n\n    %% Retail store selector \u2013 system decides Shopify POS vs STORIS\n    Retail --&gt; RS1[\"Select the store you purchased from\"]\n    RS1 --&gt; RS2{\"Store backend (system lookup)\"}\n    RS2 -- \"Shopify POS store\" --&gt; B[\"Orders in Shopify (Online + Shopify POS)\"]\n    RS2 -- \"STORIS (non-Shopify) store\" --&gt; RS3[\"Show message: this store handles returns in person only (no online processing)\"]\n    RS3 --&gt; RSEnd[\"End \u2013 customer must visit store to complete return\"]\n\n    %% Online orders \u2013 also go into Shopify-based flow\n    Online --&gt; B\n\n    %% ---------------------------------------------------------------------\n    %% MAIN SHOPIFY FLOW \u2013 DTC + SHOPIFY POS\n    %% ---------------------------------------------------------------------\n    B --&gt; B0[\"What do you need help with?\"]\n    B0 --&gt; BR[\"Return\"] &amp; BW[\"Warranty claim\"]\n\n    %% DTC / POS Return \u2013 order validation and item selection\n    BR --&gt; OR1[\"Enter order number and email\"]\n    OR1 --&gt; OR2{\"Order validated?\"}\n    OR2 -- No --&gt; OR2N[\"Show error and allow retry or contact support\"]\n    OR2 -- Yes --&gt; OR3[\"Display all items in order\"]\n    OR3 --&gt; OR4[\"Customer selects one or more items to return\"]\n\n    %% Bundle / free item rule \u2013 applies to mattress &amp; accessory bundles\n    OR4 --&gt; BND1{\"Part of bundle / free item promotion?\"}\n    BND1 -- Yes --&gt; BND2[\"Prompt: customer can keep bundled / free items at 50% of full website price; adjust refund\"]\n    BND2 --&gt; OR5{\"Item type selected\"}\n    BND1 -- No --&gt; OR5{\"Item type selected\"}\n\n    %% Mattress path (bundle logic handled above)\n    OR5 -- Mattress --&gt; M2{\"Is mattress boxed?\"}\n\n    %% Furniture path \u2013 two-step (photos then logistics)\n    OR5 -- Furniture --&gt; F1[\"Furniture return\"]\n\n    %% Accessory / Bedding path \u2013 mail-in (bundle logic handled above)\n    OR5 -- Accessory/Bedding --&gt; A1[\"Accessory / Bedding return\"]\n\n    %% Warranty claim entry\n    BW --&gt; OW1[\"Enter order number and email\"]\n    OW1 --&gt; OW2{\"Order validated?\"}\n    OW2 -- No --&gt; OR2N\n    OW2 -- Yes --&gt; OW3[\"Display all items in order\"]\n    OW3 --&gt; OW4[\"Customer selects one or more items for warranty\"]\n    OW4 --&gt; WEntry[\"Proceed to warranty questionnaire and review\"]\n\n    %% ---------------------------------------------------------------------\n    %% MATTRESS LOGISTICS \u2013 BOXED vs UNBOXED\n    %% ---------------------------------------------------------------------\n    M2 -- Yes --&gt; MInfo[\"Collect extra info: photos, law tag, preferred pickup dates\"]\n    MInfo --&gt; MInstr[\"Provide return label / pickup details and instructions\"]\n    MInstr --&gt; M3@{ label: \"Vendor picks up mattress and updates status to 'Picked'\" }\n\n    M2 -- No --&gt; MUInfo[\"Collect extra info: condition, donation eligibility (no photos sent to vendor)\"]\n    MUInfo --&gt; U1[\"Return Logistics selects donation / pickup vendor\"]\n    U1 --&gt; U6[\"Trigger emails: vendor + customer\"]\n    U6 --&gt; U8{\"Change vendor?\"}\n    U8 -- Yes --&gt; U9[\"Select new vendor \u2192 trigger updated emails\"]\n    U9 --&gt; M3\n    U8 -- No --&gt; M3\n\n    M3 --&gt; Received@{ label: \"Item marked 'Received' in portal\" }\n\n    %% ---------------------------------------------------------------------\n    %% FURNITURE RETURNS \u2013 CX REVIEW THEN LOGISTICS\n    %% ---------------------------------------------------------------------\n    F1 --&gt; FInfoPhotos[\"Step 1: Customer uploads photos + issue details\"]\n    FInfoPhotos --&gt; FCXReview[\"CX reviews photos / info\"]\n    FCXReview --&gt; FCXApprove{\"CX approves return?\"}\n    FCXApprove -- No --&gt; FCXDecline[\"Communicate decline or alternative options\"]\n    FCXApprove -- Yes --&gt; FInfoDetails[\"Step 2: Collect access constraints, pickup dates, contact info\"]\n    FInfoDetails --&gt; FLabelPickup[\"Generate carrier label + pickup instructions\"]\n    FLabelPickup --&gt; F3[\"Arrange pickup\"]\n    F3 --&gt; Received\n\n    %% ---------------------------------------------------------------------\n    %% ACCESSORY / BEDDING RETURNS \u2013 MAIL-IN\n    %% ---------------------------------------------------------------------\n    A1 --&gt; AInfo[\"Collect extra info: reason, photos if needed\"]\n    AInfo --&gt; AInstr[\"Provide label + return-by-mail instructions\"]\n    AInstr --&gt; A2[\"Customer ships item\"]\n    A2 --&gt; Received\n\n    %% ---------------------------------------------------------------------\n    %% WARRANTY FLOW\n    %% ---------------------------------------------------------------------\n    WEntry --&gt; WInfo[\"Collect issue description, photos, documentation\"]\n    WInfo --&gt; W2[\"Submit warranty case to vendor / CX\"]\n    W2 --&gt; W3{\"Approved?\"}\n    W3 -- Yes --&gt; W4[\"Arrange replacement / refund / repair\"]\n    W4 --&gt; FinalProcess[\"Close case / completion\"]\n    W3 -- No --&gt; W5[\"Communicate decision + options\"]\n\n    %% ---------------------------------------------------------------------\n    %% CALEDONIA PROCESS &amp; REFUND LOGIC\n    %% ---------------------------------------------------------------------\n    R1 --&gt; R2\n    R2 --&gt; R4\n    R4 --&gt; R5\n\n    Received --&gt; RV1{\"Return order value &lt; 600?\"} &amp; R1\n    RV1 -- Yes --&gt; AutoRefund[\"Portal automatically initiates refund\"]\n    RV1 -- No --&gt; ManualRefund[\"CX manually processes refund\"]\n    AutoRefund --&gt; FinalProcess\n    ManualRefund --&gt; FinalProcess\n    R5 --&gt; FinalProcess\n\n    %% Shape hints for key system states\n    M3@{ shape: rect}\n    Received@{ shape: rect}</code></pre>"},{"location":"05-process-high-level.html#discussion","title":"Discussion","text":"<p>\ud83d\udcac Comments for this page are available in Giscus. Once Giscus is configured, the discussion thread for this page will appear here.</p>"},{"location":"06-functional-requirements.html","title":"Functional Requirements","text":"<p>The following requirements describe what the portal must do. Each requirement is assigned a reference number (FR-x) and grouped by functional area.</p>"},{"location":"06-functional-requirements.html#purchase-channel-and-intent-selection","title":"Purchase Channel and Intent Selection","text":"<ul> <li>FR-1 \u2013 Channel Selection UI: Provide a start screen where the customer selects:</li> <li>Silk &amp; Snow Online \u2013 CA / US (Shopify)</li> <li>Silk &amp; Snow Retail Store (in-person)</li> <li> <p>Third-Party Vendor   When \"Retail Store\" is selected, the portal must perform a store lookup. If the store is Shopify POS, route to the standard Shopify order flow. If the store is STORIS (non-Shopify), display a \"returns must be handled in-person\" message and block further steps. When \"Third-Party Vendor\" is selected, show vendor instructions and block steps.</p> </li> <li> <p>FR-2 \u2013 Intent Selection: After channel selection, present options for \"Return\", \"Warranty Claim\", or other return type (configurable). The selection determines which subsequent screens and logic apply.</p> </li> </ul>"},{"location":"06-functional-requirements.html#order-lookup-and-security","title":"Order Lookup and Security","text":"<ul> <li> <p>FR-3 \u2013 Order Lookup Fields: For online orders, display fields for email and order number. Both are required and must exactly match a WooCommerce order before showing any order details.</p> </li> <li> <p>FR-4 \u2013 Input Validation: Validate email format and trim leading/trailing spaces for both email and order number. Show clear error messages for missing or invalid fields.</p> </li> <li> <p>FR-5 \u2013 Order Retrieval: When email and order number match, retrieve and display the corresponding order details. If no match is found, inform the customer without revealing any order information.</p> </li> </ul>"},{"location":"06-functional-requirements.html#item-display-and-eligibility","title":"Item Display and Eligibility","text":"<ul> <li> <p>FR-6 \u2013 Display Items: Show all items on the order with their variant image, colour, size, category, quantity and status (e.g., \"Eligible\", \"Trial Ended\", \"Final Sale\", \"Already Returned\").</p> </li> <li> <p>FR-7 \u2013 Eligibility Calculation: Compute eligibility for each item using the delivered date plus return period (per category), final sale flags, trial windows, prior returns and channel restrictions. Items that are past the return window, final sale, already returned or from an incorrect channel must be marked \"Not Eligible\". Mattresses returned within 30 nights should trigger a soft warning but remain eligible; unboxed mattresses and furniture without packaging should be flagged as \"Conditionally Eligible\" requiring vendor approval or admin flags.</p> </li> <li> <p>FR-8 \u2013 Category Filtering: Hide items that do not belong to the selected return type (e.g., returning accessories should not show mattresses).</p> </li> <li> <p>FR-9 \u2013 Bundles Handling: Identify bundle items. When a main item is returned but the customer keeps a bundled/free item, the portal must offer the option to keep the bundled/free item at 50% of the full website price (not the bundle price) and adjust the refund amount accordingly. This applies to mattress + free accessory bundles and other configured bundles.</p> </li> </ul>"},{"location":"06-functional-requirements.html#item-selection","title":"Item Selection","text":"<ul> <li> <p>FR-10 \u2013 Item Selection: Allow the customer to select one or more eligible items and specify quantities (up to the purchased quantity). Prevent selection of more than two units of the same product type with a soft warning and flag the ticket for \"Quantity Limit Exceeded\" if over the limit.</p> </li> <li> <p>FR-11 \u2013 Validate Selection: Require at least one item to be selected before proceeding. If no item is selected, display a validation message.</p> </li> </ul>"},{"location":"06-functional-requirements.html#reason-selection-and-mapping","title":"Reason Selection and Mapping","text":"<ul> <li> <p>FR-12 \u2013 Return Reasons: Present a dropdown of customer-facing return reasons based on the product category and language. Include \"Other/Change of Mind\" for returns where permitted and hide it for warranty claims. If \"Other\" is selected, provide a text field for additional details.</p> </li> <li> <p>FR-13 \u2013 Claim Reasons: Provide a category-specific list of warranty claim reasons with business-approved wording. Do not allow \"Other\" or change-of-mind reasons for claims.</p> </li> <li> <p>FR-14 \u2013 Reason Mapping: Map each selected customer reason to the corresponding WooCommerce refund reason for reporting and refund processing.</p> </li> </ul>"},{"location":"06-functional-requirements.html#documentation-capture","title":"Documentation Capture","text":"<ul> <li> <p>FR-15 \u2013 Documentation Requirements: Based on the product category and claim reason, determine the required documentation (e.g., base photos, measurement photos, tag photos, lot number, invoice copy, description). Present upload fields accordingly.</p> </li> <li> <p>FR-16 \u2013 Upload Validation: Enforce required documentation before submission. Validate file types, sizes and image clarity; provide user feedback when uploads fail and allow retry.</p> </li> <li> <p>FR-17 \u2013 General Documentation: Collect lot number and detailed description for all claims and require an invoice when the purchase was made through a retail store or third-party vendor.</p> </li> </ul>"},{"location":"06-functional-requirements.html#logistics-and-label-generation","title":"Logistics and Label Generation","text":"<ul> <li> <p>FR-18 \u2013 Box Count Input: When generating return labels, prompt the customer to enter the number of boxes (1\u201320) and validate the value. If no boxes are entered, require at least one box.</p> </li> <li> <p>FR-19 \u2013 Label Generation: Integrate with the selected shipping carrier API to generate one label per box using the customer's shipping address, item weight and dimensions. Use fallback weights when master data is missing. Store tracking numbers and prevent duplicate labels on reprints.</p> </li> <li> <p>FR-20 \u2013 Pickup &amp; Freight Rules:</p> </li> <li>Mattress (Boxed): Provide drop-off instructions/labels.</li> <li>Mattress (Unboxed): Collect condition and donation eligibility. Do not send photos to the vendor. The Return Logistics Manager must manually select a donation or pickup vendor. Supporting Vendor Change functionality is required, which must trigger updated emails to the new vendor and customer.</li> <li> <p>Furniture: Implement a two-step flow. Step 1: Customer uploads photos/details. CX must review and approve via the portal. Step 2 (if approved): Collect access constraints and pickup dates, then generate label/instructions.</p> </li> <li> <p>FR-21 \u2013 Label Display &amp; Reprints: Show generated labels and tracking information to the customer. Allow re-printing without creating new labels or incurring extra charges.</p> </li> </ul>"},{"location":"06-functional-requirements.html#ticket-creation-and-backend-integration","title":"Ticket Creation and Backend Integration","text":"<ul> <li> <p>FR-22 \u2013 Ticket Creation: Upon submission, create a Claimlane ticket capturing customer and order details, selected items, reasons, documentation, eligibility status, labels, tags (product category and issue type) and notes. Prevent duplicate tickets for the same items within a short timeframe.</p> </li> <li> <p>FR-23 \u2013 Refund Processing:</p> </li> <li>Auto-Refund: When items are marked \"Received\" and the net refund value is less than 600 (store currency), automatically initiate the refund in WooCommerce (if gateway supported).</li> <li>Manual Refund: When items are marked \"Received\" and the net refund value is 600 or greater, route the ticket to CX for manual refund processing.</li> <li> <p>For partial refunds, adjust only the line item amount and leave inventory unchanged. If the gateway or currency does not support automated refunds, mark the ticket for manual refund.</p> </li> <li> <p>FR-24 \u2013 Replacement Order Creation: For approved warranty claims, create a WooCommerce order for replacement items using the customer's billing/shipping details, set the order status to \"Processing\" and notify the customer via WooCommerce.</p> </li> <li> <p>FR-25 \u2013 Exception Handling: Support exception flows, including manual POS returns, vendor review required (e.g., unboxed mattresses, furniture without packaging), manual refunds due to gateway issues and customer service overrides. Maintain logs and alerts for any failures during API calls (ticket creation, label generation, refund processing) with clear guidance to the customer.</p> </li> </ul>"},{"location":"06-functional-requirements.html#user-experience-and-messaging","title":"User Experience and Messaging","text":"<ul> <li> <p>FR-26 \u2013 UX Navigation: Provide a clear \"Start Over\" button after order lookup to allow customers to cancel and restart the process. Preserve session state when navigating back or refreshing pages and handle double submits gracefully (only one ticket/refund is created).</p> </li> <li> <p>FR-27 \u2013 Help &amp; Support: Include a \"Help\" page that only displays the Silk &amp; Snow support email and a link to the Silk &amp; Snow chatbot. Do not include telephone numbers or other channels unless explicitly approved.</p> </li> <li> <p>FR-28 \u2013 Localization: At launch the portal operates in English only; French copy is supported via translation tables but must be marketing-approved. Copy must be consistent across screens and reasons.</p> </li> <li> <p>FR-29 \u2013 Accessibility &amp; Responsiveness: Ensure that all key actions are accessible via keyboard only and that pages display correctly on mobile browsers.</p> </li> </ul>"},{"location":"06-functional-requirements.html#new-functionality","title":"New Functionality","text":"<ul> <li> <p>FR-30 \u2013 Caledonia Portal: Provide a limited access role/view for the Caledonia Warehouse Team to allow updating return status from Delivered \u2192 Processing / Inspection Completed. This status update must feed into the \"Received\" logic for refunds.</p> </li> <li> <p>FR-31 \u2013 Reporting: Provide Store Operations with the ability to generate a \"Returned items\" report listing items that have reached \"Inspection Completed\" status for inventory updates.</p> </li> <li> <p>FR-32 \u2013 Email Triggers: Configure specific email triggers for:</p> </li> <li>Unboxed Mattress Vendor Assignment.</li> <li>Unboxed Mattress Vendor Change (notify new vendor and customer).</li> <li>Furniture Return Approval/Decline by CX.</li> </ul>"},{"location":"06-functional-requirements.html#discussion","title":"Discussion","text":"<p>\ud83d\udcac Comments for this page are available in Giscus. Once Giscus is configured, the discussion thread for this page will appear here.</p>"},{"location":"07-non-functional-requirements.html","title":"Non Functional Requirements","text":"<ul> <li> <p>NFR-1 \u2013 Security: Enforce strict order lookup security so that a customer cannot access order details unless both email and order number match exactly. Sanitize all user inputs and store documentation securely.</p> </li> <li> <p>NFR-2 \u2013 Availability &amp; Reliability: Maintain high availability of the portal and integrate retry logic for external API calls (labels, refunds, ticket creation). Gracefully handle carrier or gateway downtime with user messages and fallback instructions.</p> </li> <li> <p>NFR-3 \u2013 Performance: Order lookup, item display and label generation should respond within acceptable user experience thresholds (e.g., &lt; 2 seconds for lookups, &lt; 5 seconds for labels) under normal load.</p> </li> <li> <p>NFR-4 \u2013 Compliance &amp; Data Privacy: Adhere to privacy regulations (e.g., PIPEDA, GDPR) by limiting data collection to necessary information and providing clear privacy notices. Retain documentation only for the duration needed to process claims.</p> </li> <li> <p>NFR-5 \u2013 Maintainability &amp; Configurability: Business rules (return windows, warranty periods, reasons mapping, documentation requirements) should be configurable without code changes. The system should support updates to product categories and policies.</p> </li> <li> <p>NFR-6 \u2013 Audit &amp; Logging: Record all key actions (order lookup, item selection, documentation uploads, label generation, refunds) with timestamps for auditability. Capture error messages and API responses for troubleshooting.</p> </li> <li> <p>NFR-7 \u2013 Scalability: Design the portal and integrations to handle peak return volumes (e.g., seasonal spikes) without degradation of service.</p> </li> </ul>"},{"location":"07-non-functional-requirements.html#discussion","title":"Discussion","text":"<p>\ud83d\udcac Comments for this page are available in Giscus. Once Giscus is configured, the discussion thread for this page will appear here.</p>"},{"location":"08-business-rules.html","title":"Business Rules","text":"<p>The portal must enforce the following rules (numbered BR-1 through BR-12 plus appendix rules).</p> <ul> <li> <p>BR-1 \u2013 Third-Party Orders: Orders from third-party vendors never proceed through the Silk &amp; Snow portal. The portal shows vendor instructions only.</p> </li> <li> <p>BR-2 \u2013 Order Security: No order details are displayed unless both the email and order number match the WooCommerce record exactly.</p> </li> <li> <p>BR-3 \u2013 Item Selection Requirement: At least one item must be selected to proceed with a return or claim.</p> </li> <li> <p>BR-4 \u2013 Maximum Quantity: A maximum of two units per product type may be returned in a single request; selecting more triggers a soft warning and admin flag.</p> </li> <li> <p>BR-5 \u2013 Complete Documentation: A claim cannot be submitted until all required documentation (photos, measurements, lot number, description and invoice where applicable) is provided, except when customer service manually overrides.</p> </li> <li> <p>BR-6 \u2013 Freight &amp; Oversize: Freight or oversize rules apply for furniture, adjustable beds and oversized items; the system must enforce a CX Pre-Approval step before any labels are generated or pickups arranged.</p> </li> <li> <p>BR-7 \u2013 Duplicate Ticket Prevention: The system must prevent the creation of multiple tickets for the same items within a short window (specific timeframe configurable).</p> </li> <li> <p>BR-8 \u2013 Eligibility Calculation: Eligibility must be computed using delivered_date + return_period (see return windows). Past the window, items are not eligible.</p> </li> <li> <p>BR-9 \u2013 Warranty Check: Warranty claims remain available even after the return window has closed.</p> </li> <li> <p>BR-10 \u2013 Documentation Validation: Uploaded documentation must be validated at submission to ensure that all required fields are present.</p> </li> <li> <p>BR-11 \u2013 Return Reason Mapping: Refunds must use the mapped WooCommerce reason for reporting and processing.</p> </li> <li> <p>BR-12 \u2013 Duplicate Refunds: No duplicate refund attempts are allowed; the system must detect prior refunds before initiating a new one.</p> </li> <li> <p>BR-13 \u2013 Retail Store Backend Detection: When a customer selects \"Silk &amp; Snow Retail Store,\" the portal must lookup the backend:</p> <ul> <li>Shopify POS: Route to standard Shopify flow.</li> <li>STORIS: Block online return; show \"In-store return only\" message.</li> </ul> </li> <li> <p>BR-14 \u2013 STORIS Store Returns: For STORIS stores, no tickets, labels, or refunds are generated in the portal.</p> </li> <li> <p>BR-15 \u2013 Bundle / Free Item 50% Keep Rule: When a bundle item is returned and the customer keeps the bundled/free item, the customer pays 50% of the full website price for the kept item. The refund is adjusted (prorated) to reflect this charge.</p> </li> <li> <p>BR-16 \u2013 Vendor Pickup and Status Updates: Vendors (or Logistics team) must update mattress status to \"Picked\" in the portal. This status update must transition the item to \"Received\" to trigger refund logic.</p> </li> <li> <p>BR-17 \u2013 Furniture Return Pre-Approval: All furniture returns require CX Approval (based on photos) before logistics can be arranged. If declined, no label is generated.</p> </li> <li> <p>BR-18 \u2013 Accessory and Bedding Mail-In Flow: These items follow a single-step logistics flow: Reason/Photos -&gt; Label Generation -&gt; Mail-in.</p> </li> <li> <p>BR-19 \u2013 Caledonia Limited Access Role: Caledonia team uses a limited role to update status: Delivered -&gt; Processing / Inspection Completed.</p> </li> <li> <p>BR-20 \u2013 Store Ops Returned Items Report: Store Ops must be able to generate a report of items in \"Inspection Completed\" status for inventory updates.</p> </li> <li> <p>BR-21 \u2013 Automatic Refund Threshold (&lt; 600):</p> <ul> <li>Net Refund Value &lt; 600: Auto-Refund initiated (if gateway supported).</li> <li>Net Refund Value &gt;= 600: Manual Refund (routed to CX).</li> </ul> </li> </ul>"},{"location":"08-business-rules.html#appendix-rules","title":"Appendix Rules","text":"<ul> <li> <p>A-1 \u2013 100% Documentation: A claim cannot be submitted unless 100% of required documentation is provided (except for manual overrides).</p> </li> <li> <p>B-1 \u2013 Reason Inheritance: Each subcategory inherits the return reasons and mappings exactly as provided in the source tables.</p> </li> </ul>"},{"location":"08-business-rules.html#discussion","title":"Discussion","text":"<p>\ud83d\udcac Comments for this page are available in Giscus. Once Giscus is configured, the discussion thread for this page will appear here.</p>"},{"location":"09-constraints-assumptions.html","title":"Constraints and Assumptions","text":""},{"location":"09-constraints-assumptions.html#constraints","title":"Constraints","text":"<ul> <li>The portal is restricted to orders in Canada and the United States.</li> <li>POS returns remain mostly manual at launch; the portal may display guidance but does not fully automate POS refund processing.</li> <li>Multi-language support is not available at launch (English only); French copy exists but requires marketing approval before use.</li> <li>Fraud detection or abuse prevention is outside the scope of this project.</li> </ul>"},{"location":"09-constraints-assumptions.html#assumptions","title":"Assumptions","text":"<ul> <li>All product SKUs are correctly tagged with return and warranty periods and are up to date in the product master.</li> <li>Delivered dates are available for 100% of orders via Trackship or a similar service.</li> <li>Customers provide clear uploads for documentation, and policies for retail/POS returns are communicated to customer service.</li> <li>API credentials for WooCommerce and shipping providers are available and valid.</li> </ul>"},{"location":"09-constraints-assumptions.html#discussion","title":"Discussion","text":"<p>\ud83d\udcac Comments for this page are available in Giscus. Once Giscus is configured, the discussion thread for this page will appear here.</p>"},{"location":"10-dependencies.html","title":"Dependencies","text":"<ul> <li>WooCommerce API credentials for order lookup, refund creation and replacement order creation.</li> <li>Shipping provider (e.g., FedEx, EasyPost) selection and integration details.</li> <li>Product master data and replacement parts master to calculate weights and pricing.</li> <li>Chatbot URL for linking on the Help page.</li> <li>Trackship (or equivalent) to obtain delivered dates.</li> <li>Marketing-approved message library for portal copy.</li> </ul>"},{"location":"10-dependencies.html#discussion","title":"Discussion","text":"<p>\ud83d\udcac Comments for this page are available in Giscus. Once Giscus is configured, the discussion thread for this page will appear here.</p>"},{"location":"11-risks-mitigation.html","title":"Risks and Mitigation","text":"Risk Impact Mitigation Missing delivered date Incorrect eligibility computation Provide manual override path and flag affected orders for customer service review. Incorrect product master data Wrong return/warranty rules applied QA validation of sample SKUs and periodic audits of the product master. Shipping API failure Label generation blocked Implement retry logic and manual fallback instructions. Insufficient documentation Claim delays and manual follow-up Enforce required fields in the portal and allow customer service overrides with clear flagging. Gateway incompatibility Automatic refund failures Fallback to manual refund processing path and clear customer messaging. High volume or external API latency Poor performance or timeouts Design scalable architecture, queue asynchronous tasks and provide user feedback during delays."},{"location":"11-risks-mitigation.html#discussion","title":"Discussion","text":"<p>\ud83d\udcac Comments for this page are available in Giscus. Once Giscus is configured, the discussion thread for this page will appear here.</p>"},{"location":"12-open-questions.html","title":"Open Questions","text":"<p>These issues require clarification from Silk &amp; Snow before implementation:</p> <ol> <li> <p>Shipping Integration Provider \u2013 Which carrier (FedEx, EasyPost or other) will be used at launch? This affects label generation and pickup logic.</p> </li> <li> <p>Label Coverage \u2013 Which products/categories receive automatic return labels? For example, are furniture labels supported for all categories or only select ones?</p> </li> <li> <p>Marketing Approval \u2013 What is the final approval process for all portal wording in English and French? This includes copy for error messages, eligibility notices, warnings and help pages.</p> </li> <li> <p>Donation Automation \u2013 Will open-box mattress donation programs be integrated or require manual handling?</p> </li> <li> <p>POS Ticketing \u2013 Should POS returns create Claimlane tickets for analytics even if refunds are processed manually in store?</p> </li> </ol>"},{"location":"12-open-questions.html#discussion","title":"Discussion","text":"<p>\ud83d\udcac Comments for this page are available in Giscus. Once Giscus is configured, the discussion thread for this page will appear here.</p>"},{"location":"13-epics-user-stories.html","title":"Epics, Features and User Stories","text":"<p>The requirements are organized into epics and features. User stories are expressed in the format: As a [role], I want [goal] so that [benefit]. Each story includes acceptance criteria derived from the testing worksheet.</p>"},{"location":"13-epics-user-stories.html#epic-1-start-authentication-flow","title":"Epic 1 \u2013 Start &amp; Authentication Flow","text":""},{"location":"13-epics-user-stories.html#feature-11-channel-intent-selection","title":"Feature 1.1 \u2013 Channel &amp; Intent Selection","text":""},{"location":"13-epics-user-stories.html#us-111-select-purchase-channel","title":"US-1.1.1 \u2013 Select Purchase Channel","text":"<p>As a customer, I want to choose where I purchased my item (website, retail store, Shopify, POS or third-party vendor) so that the portal can route my request appropriately.</p> <p>Acceptance Criteria</p> <ul> <li>The start screen lists only US and Canadian channels.</li> <li>Selecting a third-party vendor shows vendor instructions and ends the flow.</li> <li>Selecting a physical store or other vendor displays store-specific information.</li> </ul>"},{"location":"13-epics-user-stories.html#us-112-select-return-or-claim-type","title":"US-1.1.2 \u2013 Select Return or Claim Type","text":"<p>As a customer, I want to indicate whether I'm returning a product or submitting a warranty claim so that the system applies the correct rules.</p> <p>Acceptance Criteria</p> <ul> <li>Return options include \"Return\" and \"Warranty Claim\".</li> <li>Changing the selection resets the workflow without retaining stale data.</li> </ul>"},{"location":"13-epics-user-stories.html#feature-12-order-lookup","title":"Feature 1.2 \u2013 Order Lookup","text":""},{"location":"13-epics-user-stories.html#us-121-secure-order-lookup","title":"US-1.2.1 \u2013 Secure Order Lookup","text":"<p>As a customer, I want to find my online order by entering my email and order number so that only my order information is displayed.</p> <p>Acceptance Criteria</p> <ul> <li>Both email and order number are required; validation errors appear for empty or invalid fields.</li> <li>Leading/trailing spaces are trimmed.</li> <li>If fields do not match a WooCommerce order, the system shows \"order not found\" without revealing details.</li> <li>Valid combinations retrieve the order and proceed to item selection.</li> </ul>"},{"location":"13-epics-user-stories.html#epic-2-item-display-selection","title":"Epic 2 \u2013 Item Display &amp; Selection","text":""},{"location":"13-epics-user-stories.html#feature-21-display-items-eligibility","title":"Feature 2.1 \u2013 Display Items &amp; Eligibility","text":""},{"location":"13-epics-user-stories.html#us-211-view-purchased-items","title":"US-2.1.1 \u2013 View Purchased Items","text":"<p>As a customer, I want to see all items in my order with images, colours and eligibility status so that I can select what to return.</p> <p>Acceptance Criteria</p> <ul> <li>Items are accurately displayed with name, image, colour and quantity.</li> <li>Items marked as final sale (e.g., custom hybrid mattress) are clearly labelled and cannot be selected.</li> <li>Items outside their return/trial window show an ineligible status.</li> <li>Soft warnings appear for mattresses returned within 30 nights and furniture returns without packaging.</li> <li>Category filtering hides non-relevant items when a specific return category is chosen.</li> </ul>"},{"location":"13-epics-user-stories.html#feature-22-item-selection-quantity","title":"Feature 2.2 \u2013 Item Selection &amp; Quantity","text":""},{"location":"13-epics-user-stories.html#us-221-select-items-and-quantities","title":"US-2.2.1 \u2013 Select Items and Quantities","text":"<p>As a customer, I want to select one or more eligible items and specify quantities so that I can return exactly what I intend.</p> <p>Acceptance Criteria</p> <ul> <li>The user can select multiple items or partial quantities.</li> <li>Trying to proceed with no items selected produces a validation error.</li> <li>Selecting more than two of the same product shows a soft warning.</li> <li>Bundle rules apply when a bundle item is returned.</li> </ul>"},{"location":"13-epics-user-stories.html#epic-3-reason-selection-documentation","title":"Epic 3 \u2013 Reason Selection &amp; Documentation","text":""},{"location":"13-epics-user-stories.html#feature-31-reason-capture","title":"Feature 3.1 \u2013 Reason Capture","text":""},{"location":"13-epics-user-stories.html#us-311-select-return-reason","title":"US-3.1.1 \u2013 Select Return Reason","text":"<p>As a customer returning an item, I want to choose a reason from a list so that the system can process my refund correctly.</p> <p>Acceptance Criteria</p> <ul> <li>The reason list is category-specific and matches marketing-approved options.</li> <li>Selecting \"Other\" displays a required text field.</li> <li>Selecting a damage/defective reason requires photo uploads.</li> <li>Each item stores its own reason.</li> <li>Proceeding without selecting a reason is blocked.</li> </ul>"},{"location":"13-epics-user-stories.html#us-312-select-claim-reason","title":"US-3.1.2 \u2013 Select Claim Reason","text":"<p>As a customer filing a warranty claim, I want to select a predefined claim reason appropriate to the product category so that my documentation requirements are clear.</p> <p>Acceptance Criteria</p> <ul> <li>Only claim reasons approved by Silk &amp; Snow are presented; \"Other/Change of Mind\" is not offered.</li> <li>Each claim reason triggers specific documentation fields per the claim documentation table (Appendix A).</li> </ul>"},{"location":"13-epics-user-stories.html#feature-32-documentation-upload","title":"Feature 3.2 \u2013 Documentation Upload","text":""},{"location":"13-epics-user-stories.html#us-321-provide-required-documentation","title":"US-3.2.1 \u2013 Provide Required Documentation","text":"<p>As a customer with a claim or damage return, I want to upload photos, measurements, lot numbers and invoices as required so that my claim can be processed.</p> <p>Acceptance Criteria</p> <ul> <li>The portal displays required fields based on the selected claim reason and product category.</li> <li>Mandatory fields must be completed before submission.</li> <li>Unsupported file types or over-sized uploads are rejected with clear messages.</li> <li>Network errors during upload allow retry without losing form state.</li> </ul>"},{"location":"13-epics-user-stories.html#epic-4-logistics-label-management","title":"Epic 4 \u2013 Logistics &amp; Label Management","text":""},{"location":"13-epics-user-stories.html#feature-41-label-generation","title":"Feature 4.1 \u2013 Label Generation","text":""},{"location":"13-epics-user-stories.html#us-411-specify-number-of-boxes","title":"US-4.1.1 \u2013 Specify Number of Boxes","text":"<p>As a customer returning items, I want to indicate how many boxes I will ship so that I receive the correct number of return labels.</p> <p>Acceptance Criteria</p> <ul> <li>The box count must be between 1 and 20.</li> <li>Entering 0 or a number above 20 triggers validation errors.</li> </ul>"},{"location":"13-epics-user-stories.html#us-412-generate-labels","title":"US-4.1.2 \u2013 Generate Labels","text":"<p>As a customer, I want the portal to generate shipping labels with accurate weights and dimensions so that I can return my items easily.</p> <p>Acceptance Criteria</p> <ul> <li>Each box generates a unique label and tracking number.</li> <li>Weight and dimension logic splits, sums or uses dimensional weight as appropriate.</li> <li>Missing weight triggers fallback values.</li> <li>The customer's shipping address appears correctly on all labels.</li> </ul>"},{"location":"13-epics-user-stories.html#us-413-handle-carrier-responses","title":"US-4.1.3 \u2013 Handle Carrier Responses","text":"<p>As a customer, I want errors from the carrier service to be handled gracefully so that I know how to proceed.</p> <p>Acceptance Criteria</p> <ul> <li>Temporary carrier errors allow retry without duplicating labels.</li> <li>Extended outages display fallback instructions to contact support.</li> <li>Re-printing a label retrieves the same label string.</li> </ul>"},{"location":"13-epics-user-stories.html#epic-5-ticketing-back-end-processing","title":"Epic 5 \u2013 Ticketing &amp; Back-End Processing","text":""},{"location":"13-epics-user-stories.html#feature-51-ticket-creation-storage","title":"Feature 5.1 \u2013 Ticket Creation &amp; Storage","text":""},{"location":"13-epics-user-stories.html#us-511-create-ticket","title":"US-5.1.1 \u2013 Create Ticket","text":"<p>As a customer, I want a ticket created with all my return/claim information so that customer service can track and act upon it.</p> <p>Acceptance Criteria</p> <ul> <li>Ticket includes contact details, selected items, quantities, documentation, labels and reasons.</li> <li>A ticket is created immediately after submission; failures display a friendly message and notify support.</li> <li>Duplicate tickets are prevented.</li> </ul>"},{"location":"13-epics-user-stories.html#us-512-ticket-for-physical-store-returns","title":"US-5.1.2 \u2013 Ticket for Physical Store Returns","text":"<p>As a customer returning an item purchased in a retail store, I want a ticket created for analytics even if the refund is processed manually so that Silk &amp; Snow can track return volumes.</p> <p>Acceptance Criteria</p> <ul> <li>Ticket indicates external vendor and does not trigger automatic refund logic.</li> <li>Staff can view and act on the ticket in Claimlane.</li> </ul>"},{"location":"13-epics-user-stories.html#feature-52-refund-processing","title":"Feature 5.2 \u2013 Refund Processing","text":""},{"location":"13-epics-user-stories.html#us-521-automatic-refund","title":"US-5.2.1 \u2013 Automatic Refund","text":"<p>As a customer returning an item, I want my refund processed automatically where supported so that I receive my money back quickly.</p> <p>Acceptance Criteria</p> <ul> <li>For supported gateways (Visa, Mastercard, PayPal, integrated BNPL), the system initiates a WooCommerce refund and updates inventory appropriately.</li> <li>Partial refunds adjust only the line item amount and not inventory.</li> <li>POS orders and unsupported gateways trigger manual refund instructions.</li> <li>Duplicate or currency mismatch refunds are prevented.</li> <li>Refund status and transaction IDs are stored in the ticket.</li> </ul>"},{"location":"13-epics-user-stories.html#feature-53-replacement-orders","title":"Feature 5.3 \u2013 Replacement Orders","text":""},{"location":"13-epics-user-stories.html#us-531-create-replacement-order","title":"US-5.3.1 \u2013 Create Replacement Order","text":"<p>As a customer with an approved warranty claim, I want the system to create a replacement order using my existing shipping details so that I receive my replacement without extra steps.</p> <p>Acceptance Criteria</p> <ul> <li>Replacement orders are created in WooCommerce with status \"Processing\".</li> <li>The customer receives an email notification from WooCommerce.</li> <li>Replacement order logic follows warranty rules by product.</li> </ul>"},{"location":"13-epics-user-stories.html#epic-6-exception-edge-cases","title":"Epic 6 \u2013 Exception &amp; Edge Cases","text":""},{"location":"13-epics-user-stories.html#us-61-vendor-approval","title":"US-6.1 \u2013 Vendor Approval","text":"<p>As a customer returning an unboxed mattress or large furniture item, I want the system to request vendor approval before generating a label so that oversized or unpackaged returns are handled properly.</p> <p>Acceptance Criteria</p> <ul> <li>Unboxed mattresses prompt the customer for additional photos and the ticket is flagged for vendor review.</li> <li>Furniture without packaging triggers a warning to the customer and an admin flag.</li> <li>Approval decisions are recorded in the ticket and update the flow.</li> </ul>"},{"location":"13-epics-user-stories.html#us-62-donation-path","title":"US-6.2 \u2013 Donation Path","text":"<p>As a customer with an open-box mattress return, I want to donate my mattress through an approved partner so that I can complete my return via donation.</p> <p>Acceptance Criteria</p> <ul> <li>The portal displays donation partner details where available.</li> <li>If the customer's address is outside the service area, instructions to contact support are provided.</li> </ul>"},{"location":"13-epics-user-stories.html#us-63-timeouts-re-entries","title":"US-6.3 \u2013 Timeouts &amp; Re-Entries","text":"<p>As a customer, I want to resume my return if my session times out or I need to re-enter the portal so that I do not lose progress.</p> <p>Acceptance Criteria</p> <ul> <li>Session timeouts after label generation but before final confirmation still preserve tickets and labels.</li> <li>If the user restarts the process, only items not yet returned are shown.</li> <li>Refreshing or double-submitting does not create duplicate tickets or refunds.</li> </ul>"},{"location":"13-epics-user-stories.html#epic-7-user-experience-accessibility","title":"Epic 7 \u2013 User Experience &amp; Accessibility","text":""},{"location":"13-epics-user-stories.html#us-71-ux-messages","title":"US-7.1 \u2013 UX Messages","text":"<p>As a customer, I want clear and contextual messages during each step of the return or claim process so that I understand what is happening.</p> <p>Acceptance Criteria</p> <ul> <li>Eligibility messages specify the product and rule (e.g., \"Furniture must be returned within 30 days; this item is past the return window\").</li> <li>Error messages cover invalid input, missing documentation, API failures, carrier errors and gateway errors.</li> <li>Marketing-approved copy is used across all screens and for all languages.</li> </ul>"},{"location":"13-epics-user-stories.html#us-72-accessibility-responsiveness","title":"US-7.2 \u2013 Accessibility &amp; Responsiveness","text":"<p>As any user, I want to navigate the portal using only a keyboard and have the pages render correctly on mobile devices so that the portal is accessible.</p> <p>Acceptance Criteria</p> <ul> <li>All interactive elements are reachable via keyboard and labelled appropriately.</li> <li>Screens adapt to smaller screen sizes while maintaining functionality.</li> </ul>"},{"location":"13-epics-user-stories.html#new-acceptance-criteria-ac-11-to-ac-17","title":"New Acceptance Criteria (AC-11 to AC-17)","text":"<ul> <li>AC-11 \u2014 Retail Store Backend Detection</li> <li>Selecting a Shopify POS store routes the customer into the Shopify order lookup and return flow.</li> <li> <p>Selecting a STORIS store displays an \"in-store only\" returns message and does not allow online returns, label generation, or ticket creation.</p> </li> <li> <p>AC-12 \u2014 Bundle / Free Item 50% Keep Rule</p> </li> <li>When returning an order containing bundled or free items, the portal offers the customer the option to keep those items at 50% of the full website price.</li> <li> <p>If the customer chooses to keep the item, the refund amount is reduced accordingly and the decision is recorded on the ticket.</p> </li> <li> <p>AC-13 \u2014 Mattress Vendor Pickup &amp; Status</p> </li> <li>Vendors can update mattress pickup status to \"Picked\" in the portal.</li> <li> <p>Setting status to \"Picked\" moves the item to \"Received\" and triggers refund evaluation logic.</p> </li> <li> <p>AC-14 \u2014 Furniture Two-Step Process</p> </li> <li>Furniture returns cannot proceed to label generation or pickup scheduling until CX has approved the request based on photos and description.</li> <li> <p>On CX approval, the portal collects access constraints and dates, then generates labels/pickup instructions.</p> </li> <li> <p>AC-15 \u2014 Accessory/Bedding Mail-In Flow</p> </li> <li>For accessory/bedding returns, once items and reasons are selected, the portal generates a label and mail-in instructions in a single step.</li> <li> <p>Items follow standard \"Received -&gt; refund\" logic when returned.</p> </li> <li> <p>AC-16 \u2014 Caledonia Status Updates &amp; Store Ops Report</p> </li> <li>Caledonia team can update statuses from Delivered -&gt; Processing / Inspection Completed using a limited access role.</li> <li> <p>Store Ops can run a \"Returned items\" report that lists items ready for inventory update.</p> </li> <li> <p>AC-17 \u2014 Refund Threshold for &lt; 600</p> </li> <li>For returns with net refund value &lt; 600, once items are marked \"Received,\" an automatic refund is initiated in WooCommerce if supported by the gateway.</li> <li>For returns with net refund value &gt;= 600, no automatic refund is initiated; the ticket is flagged for manual CX handling.</li> </ul>"},{"location":"13-epics-user-stories.html#testing-worksheet","title":"Testing Worksheet","text":"<p>(Placeholder: Testing Worksheet to be created/updated with PERM-xx IDs correspondng to the above acceptance criteria)</p>"},{"location":"13-epics-user-stories.html#discussion","title":"Discussion","text":"<p>\ud83d\udcac Comments for this page are available in Giscus. Once Giscus is configured, the discussion thread for this page will appear here.</p>"},{"location":"14-gaps-conflicts.html","title":"Identified Gaps and Potential Conflicts","text":"ID Gap or Conflict Resolution Required 1 Portal Reset/Cancellation A dedicated \"Start Over\" button is needed for user experience, overriding the current requirement to refresh the browser (SCR-03, Issue 3). This must be elevated to a mandatory UX feature (FR-26). 2 Messaging Specificity Error and eligibility messages must be refined by Marketing to include dynamic, specific product and status information (e.g., returns vs. claims, per product category) to address tester feedback (Issue 9). 3 French Localization Clarification is needed on the launch availability of French localization and the process for managing outstanding translation tasks (e.g., privacy notice, product names, reason lists). 4 Documentation Validation QA must define clear criteria for validating uploaded documentation required by Business Rule BR-10, including acceptable photo resolution, file size, clarity and measurement correctness. 5 Duplicate Ticket Window Business must specify the duration of the \"short window\" defined in BR-7 to prevent duplicate tickets and avoid customer confusion during multiple request submissions. 6 Gift &amp; Bundle Logic Clear pricing rules are required to define how deductions are calculated for free gifts that are not returned, and how prorated bundle pricing applies, for accurate implementation and testing. 7 Vendor Approval Process The workflow for vendor review, approval notification and escalation for unboxed mattresses or unpackaged furniture must be fully detailed, including a process diagram and Service Level Agreement (SLA). 8 Shipping Provider Decision The choice of carrier API must be finalized immediately, as it impacts several requirements related to box limits, label format and pickup options. 9 POS Integration Scope Clarity is needed on the extent of Point-of-Sale (POS) integration at launch. The current scope excludes full automation but mentions POS-dependent features like order lookup and label generation. 10 Donation Path Automation The process for offering and processing the mattress donation path must be defined, including requirements for donation partners, geographic availability and confirmation steps."},{"location":"14-gaps-conflicts.html#discussion","title":"Discussion","text":"<p>\ud83d\udcac Comments for this page are available in Giscus. Once Giscus is configured, the discussion thread for this page will appear here.</p>"},{"location":"15-changelog.html","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p>"},{"location":"15-changelog.html#unreleased","title":"[Unreleased]","text":""},{"location":"15-changelog.html#added","title":"Added","text":"<ul> <li>Retail Store Backend Detection (Shopify POS vs STORIS).</li> <li>Bundle / Free Item 50% Keep Rule.</li> <li>Unboxed Mattress vendor selection and No-Photo rule.</li> <li>Furniture return two-step process (CX Pre-approval).</li> <li>Caledonia Warehouse limited access role.</li> <li>Automatic Refund Threshold (&lt; 600).</li> <li>New Actors: Retail Store, Caledonia Team, Store Ops, Return Logistics.</li> </ul>"},{"location":"15-changelog.html#changed","title":"Changed","text":"<ul> <li>Updated Process Flow Diagram to align with new logic.</li> <li>Updated Actors list.</li> <li>Updated Business Rules and Functional Requirements to reflect new flows.</li> </ul>"},{"location":"16-appendices.html","title":"Appendices","text":""},{"location":"16-appendices.html#appendix-a-claim-reasons-documentation-requirements","title":"APPENDIX A \u2014 Claim Reasons &amp; Documentation Requirements","text":"<p>This appendix defines exact documentation requirements for every claim reason, per product category, based directly on the tables you provided.</p> <p>This is essential for QA (validation of required fields) and Business (alignment with warranty policy).</p>"},{"location":"16-appendices.html#a1-mattress-category","title":"A.1 Mattress Category","text":"<p>Mattress \u2013 Claim Reasons &amp; Required Documentation</p> Claim Reason Required Documentation Shipping / Damage Upon Receipt 1. Photo of base2. Photo of full mattress measurement (no sheets)3. Photos of both sides of visible tags Structural Damage (broken coils, cracked foam, etc.) Same as above (base + full measurement + tags) Loose Stitching, Seam Issues, Cosmetic Issues Photos of issuePhotos of tags Top or Side Panel Fit / Alignment Concerns Photos of issuePhotos of tags Size Discrepancy 1. Photo of base2. Measurement of length + width (entire measuring tool visible)3. Photos of tags Permanent Excessive Sagging / Indentations 1. Photo of base2. Photo of indentation measurement with ruler3. Photos of tags <p>General Required for All Mattress Claims</p> <ul> <li>\u2714 Lot number</li> <li>\u2714 Detailed description</li> <li>\u2714 If from retail/third-party \u2192 invoice copy</li> </ul>"},{"location":"16-appendices.html#a2-furniture-category","title":"A.2 Furniture Category","text":"<p>Furniture Types:</p> <ul> <li>Adjustable Beds</li> <li>Wooden Furniture</li> <li>Upholstered Frames</li> <li>Sofa</li> </ul> <p>Furniture \u2013 Claim Reasons &amp; Required Documentation</p> Claim Reason Required Documentation Missing Parts 1. Mark-up of assembly guide (parts missing)2. Photos of issue from multiple angles3. Tag photos (if applicable) Broken Component / Shipping Damage Photos from several anglesTag photos Structural Issues (warped frame, cracked joints, etc.) Photos from several anglesTag photos Material Quality Issues Photos of issueTag photos Cosmetic Issues Photos of issueTag photos Functional Issues (drawer, mechanism failures) Photos/video (if platform allows)Tag photos Upholstery Issues (stitching, pilling, premature wear) Photos of issueTag photos <p>General Required for All Furniture Claims</p> <ul> <li>\u2714 Lot number</li> <li>\u2714 Detailed description</li> <li>\u2714 Retail/third-party invoice (if applicable)</li> </ul>"},{"location":"16-appendices.html#a3-bedding-category","title":"A.3 Bedding Category","text":"<p>Includes:</p> <ul> <li>Sheets (Percale, Linen, Egyptian Cotton, Muslin, Silk)</li> <li>Duvets</li> <li>Pillowcases</li> <li>Pillows</li> <li>Protectors</li> <li>Throws</li> <li>Weighted blankets</li> </ul> <p>Bedding \u2013 Claim Reasons &amp; Required Documentation</p> Claim Reason Required Documentation Fabric Concerns (snags, tears, holes) Clear photos of issueTag photos Seam Concerns Photos of issueTag photos Material Concerns (pilling, fading, discoloration) PhotosTag photos Sizing Concerns Photo of issueTag photosLength + width measurements <p>General Required for All Bedding Claims</p> <ul> <li>\u2714 Lot number</li> <li>\u2714 Description</li> <li>\u2714 Invoice (retail/third-party only)</li> </ul>"},{"location":"16-appendices.html#a4-bath-category","title":"A.4 Bath Category","text":"<p>Includes:</p> <ul> <li>Terry towels</li> <li>Turkish towels</li> <li>Bath mats</li> <li>Bath robes</li> </ul> <p>Bath \u2013 Claim Reasons &amp; Required Documentation</p> Claim Reason Required Documentation Fabric Concerns Clear photosTag photos Material Concerns PhotosTag photos Seam Concerns PhotosTag photos Sizing Concerns MeasurementsTag photos <p>General Required</p> <ul> <li>\u2714 Lot number</li> <li>\u2714 Description</li> <li>\u2714 Invoice if not S&amp;S order</li> </ul>"},{"location":"16-appendices.html#a5-global-documentation-rules-for-all-claims","title":"A.5 Global Documentation Rules for All Claims","text":"Requirement Applies To Lot number All claims Description of issue All claims Invoice Retail store / third-party Photos Category-specific, mandatory Measurements Required when defect relates to size Tags Required in almost every category <p>Business Rule A-1: A claim cannot be submitted unless 100% of required documentation is provided (except when CS overrides manually).</p>"},{"location":"16-appendices.html#appendix-b-return-reasons-mapping-customer-reason-woocommerce-reason","title":"APPENDIX B \u2014 Return Reasons Mapping (Customer Reason \u2192 WooCommerce Reason)","text":"<p>This appendix defines all return reasons that the customer may select and how they map to WooCommerce refund reasons, per category.</p> <p>This is essential for Testers verifying: *   Correct reason list appears *   Correct mapping sent to Woo during refund *   Correct reporting categories</p>"},{"location":"16-appendices.html#b1-bath-category","title":"B.1 Bath Category","text":"<p>Bath Mat \u2014 Customer Return Reasons \u2192 Woo Reasons</p> Customer-facing Reason Woo Refund Reason Cancelled Cancelled Backorder Cancellation Backorder Cancellation Price-Match Price-Match Too Thin Too Thin Not Absorbent Not Absorbent Colour Colour Sizing Sizing Quality (Cosmetics) Quality Not as Expected/Advertised Not as Expected Other / Change of Mind Change of Mind Chargeback Chargeback Cancellation \u2013 Fraud Fraud <p>(This format is applied to all bath subcategories \u2014 Terry, Turkish, Robes \u2014 with identical mapping.)</p>"},{"location":"16-appendices.html#b2-bedding-category","title":"B.2 Bedding Category","text":"<p>Example: Accessories</p> Reason Woo Mapping Too Thin Too Thin Too Hot Too Hot Price-Match Price-Match Softness Issue Softness Issue Quality (Cosmetics) Quality Sizing Sizing Colour Colour Defective Defective Too Heavy Too Heavy Other / Change of Mind Change of Mind Not as Expected Not as Expected Coupon Coupon Cancelled Cancelled Backorder Backorder Cancellation Chargeback Chargeback Cancellation \u2013 Fraud Fraud <p>Additional Bedding Subcategories</p> <ul> <li>Egyptian Cotton Bedding</li> <li>Linen Bedding</li> <li>Muslin Bedding</li> <li>Percale Bedding</li> <li>Toppers</li> <li>Weighted Blankets</li> <li>Waffle Bedding</li> <li>Throws</li> </ul> <p>Rule B-1: Each subcategory inherits the list and mapping exactly as provided in the source table.</p>"},{"location":"16-appendices.html#b3-furniture-category","title":"B.3 Furniture Category","text":"<p>Example mappings (Upholstered Bed Frames):</p> Reason Woo Mapping Price-Match Price-Match Colour Colour Shipping Damage Shipping Damage Quality (Cosmetics) Quality Defective Defective Not as Expected Not as Expected Other / Change of Mind Change of Mind Cancelled Cancelled Backorder Cancellation Backorder Chargeback Chargeback Cancellation \u2013 Fraud Fraud <p>(Identical structure for Wooden Furniture, Sofa, Adjustable Beds.)</p>"},{"location":"16-appendices.html#b4-mattress-category","title":"B.4 Mattress Category","text":"<p>Mattress \u2013 CA &amp; US</p> Reason Woo Mapping Too Firm Too Firm Too Soft Too Soft Too Warm Too Warm Not Supportive Not Supportive Quality (Cosmetics) Quality Defective Defective Pain Pain Shipping Damage Shipping Damage Not as Expected Not as Expected Cancelled Cancelled Backorder Cancellation Backorder Other / Change of Mind Change of Mind Chargeback Chargeback Cancellation \u2013 Fraud Fraud"},{"location":"16-appendices.html#appendix-c-warranty-return-policy-table","title":"APPENDIX C \u2014 Warranty &amp; Return Policy Table","text":"<p>This is the definitive single source for testers and business users validating eligibility.</p>"},{"location":"16-appendices.html#c1-return-periods","title":"C.1 Return Periods","text":"Product Category Return Period Conditions Mattresses 365 nights Full refund; boxed preferred; unboxed requires approval Furniture 30 days Return shipping deducted unless escalated Toppers 100 nights Soft goods rules Bedding 100 nights Must confirm donatable condition Bath 100 nights N/A Accessories 100 nights N/A Custom Hybrid Mattress Not returnable Warranty only"},{"location":"16-appendices.html#c2-warranty-periods","title":"C.2 Warranty Periods","text":"Product Category Warranty Mattresses 15 years Adjustable Bed 10 years Furniture 5 years Sofa 5 years Pillows 3 years Mattress Toppers 3 years Bedding 1 year Bath 1 year Accessories 1 year"},{"location":"16-appendices.html#appendix-d-full-return-eligibility-matrix","title":"APPENDIX D \u2014 Full Return Eligibility Matrix","text":"<p>This matrix defines the exact logic used to determine whether an item is Eligible, Not Eligible, or Conditionally Eligible.</p> <p>This table is essential for QA test case coverage.</p>"},{"location":"16-appendices.html#d1-eligibility-by-product-category-time","title":"D.1 Eligibility by Product Category &amp; Time","text":"Category &lt; Return Window &gt; Return Window Final Sale Already Returned Trial-Specific Rules Mattress Eligible; &lt;30 nights soft warning Not Eligible (&gt;365) Blocked Blocked &lt;30 nights = warning; &gt;365 = blocked Furniture Eligible Not Eligible (&gt;30 days) Blocked Blocked Must show shipping cost deduction notes Bedding Eligible Not Eligible (&gt;100 nights) Blocked Blocked Must confirm donatable condition Bath Eligible Not Eligible (&gt;100 nights) Blocked Blocked Standard Accessories Eligible Not Eligible (&gt;100 nights) Blocked Blocked Standard Toppers Eligible Not Eligible (&gt;100 nights) Blocked Blocked Early-return soft warning (if configured) Custom Hybrid Mattress Not Eligible \u2013 Always Not Eligible \u2013 Always Final Sale N/A N/A"},{"location":"16-appendices.html#d2-eligibility-by-channel","title":"D.2 Eligibility by Channel","text":"Channel Web Order Retail Store POS Purchase Third-Party Vendor Web Purchase Full portal flow Not allowed Not allowed Not applicable Retail Shopify Order Allowed (if ID matches) Allowed in store Allowed Not applicable POS Purchase Guidance only Must return in-store Allowed Not applicable Amazon/3rd Party Not allowed Not allowed Not allowed Redirect to vendor"},{"location":"16-appendices.html#d3-eligibility-by-condition","title":"D.3 Eligibility by Condition","text":"Condition Scenario Eligibility State Business Rule Item missing packaging (furniture) Conditionally Eligible Warning to customer; admin flag \u201cMissing Packaging\u201d Mattress unboxed Requires approval Photos required; support review Gift-with-purchase Must return gift OR deduct value BR: If main item returned \u2192 free gift must be returned Bundles Bundle refund follows bundle rules BR: Returning single item \u2192 prorated refund"},{"location":"16-appendices.html#d4-bundles-eligibility-rules","title":"D.4 Bundles Eligibility Rules","text":"Scenario Eligibility Notes Full bundle return Eligible Refund full bundle price Returning single pillow (from bundle) Eligible Prorated refund Returning duvet only Eligible Prorated refund Free sleep bundle gift Must return gift Or deduct gift value"}]}